/*! -- File: e70f72bc3462ebee0787b4a8bba2b99fe665f6dbf68c6da42cce45ae92b97c39.js ( Input 0 ) -- */
/*
 Magnific Popup - v1.1.0 - 2016-02-20
 http://dimsemenov.com/plugins/magnific-popup/
 Copyright (c) 2016 Dmitry Semenov;  alertify - v0.3.11 - 2013-10-08  jQuery Validation Plugin - v1.19.1 - 6/15/2019
 https://jqueryvalidation.org/
 Copyright (c) 2019 JÃ¶rn Zaefferer; Licensed MIT  Pusher JavaScript Library v8.3.0
 https://pusher.com/

 Copyright 2020, Pusher
 Released under the MIT licence.
*/
'use strict';(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?d(require("jquery")):d(window.jQuery||window.Zepto)})(function(d){var b,n=function(){},a=!!window.jQuery,c,h=d(window),g,f,k,p,l=function(a,c){b.ev.on("mfp"+a+".mfp",c)},q=function(a,b,c,h){var u=document.createElement("div");u.className="mfp-"+a;c&&(u.innerHTML=c);h?b&&b.appendChild(u):(u=d(u),b&&u.appendTo(b));return u},r=function(a,c){b.ev.triggerHandler("mfp"+a,c);b.st.callbacks&&(a=
a.charAt(0).toLowerCase()+a.slice(1),b.st.callbacks[a]&&b.st.callbacks[a].apply(b,d.isArray(c)?c:[c]))},w=function(a){a===p&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=d(b.st.closeMarkup.replace("%title%",b.st.tClose)),p=a);return b.currTemplate.closeBtn},A=function(){d.magnificPopup.instance||(b=new n,b.init(),d.magnificPopup.instance=b)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in
a)return!0;return!1};n.prototype={constructor:n,init:function(){var a=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener;b.isAndroid=/android/gi.test(a);b.isIOS=/iphone|ipad|ipod/gi.test(a);b.supportsTransition=C();b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);g=d(document);b.popupsCache={}},open:function(a){var c;if(!1===a.isObj){b.items=a.items.toArray();b.index=0;var u=
a.items;for(c=0;c<u.length;c++){var f=u[c];f.parsed&&(f=f.el[0]);if(f===a.el[0]){b.index=c;break}}}else b.items=d.isArray(a.items)?a.items:[a.items],b.index=a.index||0;if(b.isOpen)b.updateItemHTML();else{b.types=[];k="";b.ev=a.mainEl&&a.mainEl.length?a.mainEl.eq(0):g;a.key?(b.popupsCache[a.key]||(b.popupsCache[a.key]={}),b.currTemplate=b.popupsCache[a.key]):b.currTemplate={};b.st=d.extend(!0,{},d.magnificPopup.defaults,a);b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos;
b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1);b.bgOverlay||(b.bgOverlay=q("bg").on("click.mfp",function(){b.close()}),b.wrap=q("wrap").attr("tabindex",-1).on("click.mfp",function(a){b._checkIfClose(a.target)&&b.close()}),b.container=q("container",b.wrap));b.contentContainer=q("content");b.st.preloader&&(b.preloader=q("preloader",b.container,b.st.tLoading));u=d.magnificPopup.modules;for(c=0;c<u.length;c++)f=u[c],f=f.charAt(0).toUpperCase()+
f.slice(1),b["init"+f].call(b);r("BeforeOpen");b.st.showCloseBtn&&(b.st.closeBtnInside?(l("MarkupParse",function(a,b,c,d){c.close_replaceWith=w(d.type)}),k+=" mfp-close-btn-in"):b.wrap.append(w()));b.st.alignTop&&(k+=" mfp-align-top");b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:h.scrollTop(),position:"absolute"});(!1===b.st.fixedBgPos||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:g.height(),position:"absolute"});
if(b.st.enableEscapeKey)g.on("keyup.mfp",function(a){27===a.keyCode&&b.close()});h.on("resize.mfp",function(){b.updateSize()});b.st.closeOnContentClick||(k+=" mfp-auto-cursor");k&&b.wrap.addClass(k);c=b.wH=h.height();u={};b.fixedContentPos&&b._hasScrollBar(c)&&(f=b._getScrollbarSize())&&(u.marginRight=f);b.fixedContentPos&&(b.isIE7?d("body, html").css("overflow","hidden"):u.overflow="hidden");f=b.st.mainClass;b.isIE7&&(f+=" mfp-ie7");f&&b._addClassToMFP(f);b.updateItemHTML();r("BuildControls");d("html").css(u);
b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||d(document.body));b._lastFocusedEl=document.activeElement;setTimeout(function(){b.content?(b._addClassToMFP("mfp-ready"),b._setFocus()):b.bgOverlay.addClass("mfp-ready");g.on("focusin.mfp",b._onFocusIn)},16);b.isOpen=!0;b.updateSize(c);r("Open");return a}},close:function(){b.isOpen&&(r("BeforeClose"),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP("mfp-removing"),setTimeout(function(){b._close()},b.st.removalDelay)):
b._close())},_close:function(){r("Close");var a="mfp-removing mfp-ready ";b.bgOverlay.detach();b.wrap.detach();b.container.empty();b.st.mainClass&&(a+=b.st.mainClass+" ");b._removeClassFromMFP(a);b.fixedContentPos&&(a={marginRight:""},b.isIE7?d("body, html").css("overflow",""):a.overflow="",d("html").css(a));g.off("keyup.mfp focusin.mfp");b.ev.off(".mfp");b.wrap.attr("class","mfp-wrap").removeAttr("style");b.bgOverlay.attr("class","mfp-bg");b.container.attr("class","mfp-container");!b.st.showCloseBtn||
b.st.closeBtnInside&&!0!==b.currTemplate[b.currItem.type]||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach();b.st.autoFocusLast&&b._lastFocusedEl&&d(b._lastFocusedEl).focus();b.currItem=null;b.content=null;b.currTemplate=null;b.prevHeight=0;r("AfterClose")},updateSize:function(a){b.isIOS?(a=document.documentElement.clientWidth/window.innerWidth*window.innerHeight,b.wrap.css("height",a),b.wH=a):b.wH=a||h.height();b.fixedContentPos||b.wrap.css("height",b.wH);r("Resize")},updateItemHTML:function(){var a=
b.items[b.index];b.contentContainer.detach();b.content&&b.content.detach();a.parsed||(a=b.parseEl(b.index));var c=a.type;r("BeforeChange",[b.currItem?b.currItem.type:"",c]);b.currItem=a;if(!b.currTemplate[c]){var h=b.st[c]?b.st[c].markup:!1;r("FirstMarkupParse",h);b.currTemplate[c]=h?d(h):!0}f&&f!==a.type&&b.container.removeClass("mfp-"+f+"-holder");h=b["get"+c.charAt(0).toUpperCase()+c.slice(1)](a,b.currTemplate[c]);b.appendContent(h,c);a.preloaded=!0;r("Change",a);f=a.type;b.container.prepend(b.contentContainer);
r("AfterChange")},appendContent:function(a,c){(b.content=a)?b.st.showCloseBtn&&b.st.closeBtnInside&&!0===b.currTemplate[c]?b.content.find(".mfp-close").length||b.content.append(w()):b.content=a:b.content="";r("BeforeAppend");b.container.addClass("mfp-"+c+"-holder");b.contentContainer.append(b.content)},parseEl:function(a){var c=b.items[a];if(c.tagName)c={el:d(c)};else{var u=c.type;c={data:c,src:c.src}}if(c.el){for(var h=b.types,f=0;f<h.length;f++)if(c.el.hasClass("mfp-"+h[f])){u=h[f];break}c.src=
c.el.attr("data-mfp-src");c.src||(c.src=c.el.attr("href"))}c.type=u||b.st.type||"inline";c.index=a;c.parsed=!0;b.items[a]=c;r("ElementParse",c);return b.items[a]},addGroup:function(a,c){var d=function(d){d.mfpEl=this;b._openClick(d,a,c)};c||(c={});c.mainEl=a;if(c.items)c.isObj=!0,a.off("click.magnificPopup").on("click.magnificPopup",d);else if(c.isObj=!1,c.delegate)a.off("click.magnificPopup").on("click.magnificPopup",c.delegate,d);else c.items=a,a.off("click.magnificPopup").on("click.magnificPopup",
d)},_openClick:function(a,c,f){if((void 0!==f.midClick?f.midClick:d.magnificPopup.defaults.midClick)||!(2===a.which||a.ctrlKey||a.metaKey||a.altKey||a.shiftKey)){var u=void 0!==f.disableOn?f.disableOn:d.magnificPopup.defaults.disableOn;if(u)if(d.isFunction(u)){if(!u.call(b))return!0}else if(h.width()<u)return!0;a.type&&(a.preventDefault(),b.isOpen&&a.stopPropagation());f.el=d(a.mfpEl);f.delegate&&(f.items=c.find(f.delegate));b.open(f)}},updateStatus:function(a,d){b.preloader&&(c!==a&&b.container.removeClass("mfp-s-"+
c),d||"loading"!==a||(d=b.st.tLoading),d={status:a,text:d},r("UpdateStatus",d),a=d.status,d=d.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a)},_checkIfClose:function(a){if(!d(a).hasClass("mfp-prevent-close")){var c=b.st.closeOnContentClick,f=b.st.closeOnBgClick;if(c&&f||!b.content||d(a).hasClass("mfp-close")||b.preloader&&a===b.preloader[0])return!0;if(a!==b.content[0]&&!d.contains(b.content[0],a)){if(f&&d.contains(document,
a))return!0}else if(c)return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a);b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a);b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?g.height():document.body.scrollHeight)>(a||h.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(a){if(a.target!==b.wrap[0]&&!d.contains(b.wrap[0],a.target))return b._setFocus(),!1},_parseMarkup:function(a,
c,b){var f;b.data&&(c=d.extend(b.data,c));r("MarkupParse",[a,c,b]);d.each(c,function(c,b){if(void 0===b||!1===b)return!0;f=c.split("_");if(1<f.length){if(c=a.find(".mfp-"+f[0]),0<c.length){var h=f[1];"replaceWith"===h?c[0]!==b[0]&&c.replaceWith(b):"img"===h?c.is("img")?c.attr("src",b):c.replaceWith(d("\x3cimg\x3e").attr("src",b).attr("class",c.attr("class"))):c.attr(f[1],b)}}else a.find(".mfp-"+c).html(b)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");
a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(a);b.scrollbarSize=a.offsetWidth-a.clientWidth;document.body.removeChild(a)}return b.scrollbarSize}};d.magnificPopup={instance:null,proto:n.prototype,modules:[],open:function(a,c){A();a=a?d.extend(!0,{},a):{};a.isObj=!0;a.index=c||0;return this.instance.open(a)},close:function(){return d.magnificPopup.instance&&d.magnificPopup.instance.close()},registerModule:function(a,c){c.options&&
(d.magnificPopup.defaults[a]=c.options);d.extend(this.proto,c.proto);this.modules.push(a)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'\x3cbutton title\x3d"%title%" type\x3d"button" class\x3d"mfp-close"\x3e\x26#215;\x3c/button\x3e',tClose:"Close (Esc)",
tLoading:"Loading...",autoFocusLast:!0}};d.fn.magnificPopup=function(c){A();var f=d(this);if("string"===typeof c)if("open"===c){var h=a?f.data("magnificPopup"):f[0].magnificPopup,g=parseInt(arguments[1],10)||0;if(h.items)var u=h.items[g];else u=f,h.delegate&&(u=u.find(h.delegate)),u=u.eq(g);b._openClick({mfpEl:u},f,h)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=d.extend(!0,{},c),a?f.data("magnificPopup",c):f[0].magnificPopup=c,b.addGroup(f,c);return f};var v,B,G,I=
function(){G&&(B.after(G.addClass(v)).detach(),G=null)};d.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push("inline");l("Close.inline",function(){I()})},getInline:function(a,c){I();if(a.src){c=b.st.inline;var f=d(a.src);if(f.length){var h=f[0].parentNode;h&&h.tagName&&(B||(v=c.hiddenClass,B=q(v),v="mfp-"+v),G=f.after(B).detach().removeClass(v));b.updateStatus("ready")}else b.updateStatus("error",c.tNotFound),
f=d("\x3cdiv\x3e");return a.inlineElement=f}b.updateStatus("ready");b._parseMarkup(c,{},a);return c}}});var H,T=function(){H&&d(document.body).removeClass(H)},L=function(){T();b.req&&b.req.abort()};d.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'\x3ca href\x3d"%url%"\x3eThe content\x3c/a\x3e could not be loaded.'},proto:{initAjax:function(){b.types.push("ajax");H=b.st.ajax.cursor;l("Close.ajax",L);l("BeforeChange.ajax",L)},getAjax:function(a){H&&d(document.body).addClass(H);
b.updateStatus("loading");var c=d.extend({url:a.src,success:function(c,f,h){c={data:c,xhr:h};r("ParseAjax",c);b.appendContent(d(c.data),"ajax");a.finished=!0;T();b._setFocus();setTimeout(function(){b.wrap.addClass("mfp-ready")},16);b.updateStatus("ready");r("AjaxContentAdded")},error:function(){T();a.finished=a.loadError=!0;b.updateStatus("error",b.st.ajax.tError.replace("%url%",a.src))}},b.st.ajax.settings);b.req=d.ajax(c);return""}}});var F,U=function(a){if(a.data&&void 0!==a.data.title)return a.data.title;
var c=b.st.image.titleSrc;if(c){if(d.isFunction(c))return c.call(b,a);if(a.el)return a.el.attr(c)||""}return""};d.magnificPopup.registerModule("image",{options:{markup:'\x3cdiv class\x3d"mfp-figure"\x3e\x3cdiv class\x3d"mfp-close"\x3e\x3c/div\x3e\x3cfigure\x3e\x3cdiv class\x3d"mfp-img"\x3e\x3c/div\x3e\x3cfigcaption\x3e\x3cdiv class\x3d"mfp-bottom-bar"\x3e\x3cdiv class\x3d"mfp-title"\x3e\x3c/div\x3e\x3cdiv class\x3d"mfp-counter"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/figcaption\x3e\x3c/figure\x3e\x3c/div\x3e',
cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'\x3ca href\x3d"%url%"\x3eThe image\x3c/a\x3e could not be loaded.'},proto:{initImage:function(){var a=b.st.image;b.types.push("image");l("Open.image",function(){"image"===b.currItem.type&&a.cursor&&d(document.body).addClass(a.cursor)});l("Close.image",function(){a.cursor&&d(document.body).removeClass(a.cursor);h.off("resize.mfp")});l("Resize.image",b.resizeImage);b.isLowIE&&l("AfterChange",b.resizeImage)},resizeImage:function(){var a=
b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10));a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,F&&clearInterval(F),a.isCheckingImgSize=!1,r("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],f=function(h){F&&clearInterval(F);F=setInterval(function(){0<d.naturalWidth?b._onImageHasSize(a):
(200<c&&clearInterval(F),c++,3===c?f(10):40===c?f(50):100===c&&f(500))},h)};f(1)},getImage:function(a,c){var f=0,h=function(){a&&(a.img[0].complete?(a.img.off(".mfploader"),a===b.currItem&&(b._onImageHasSize(a),b.updateStatus("ready")),a.hasSize=!0,a.loaded=!0,r("ImageLoadComplete")):(f++,200>f?setTimeout(h,100):g()))},g=function(){a&&(a.img.off(".mfploader"),a===b.currItem&&(b._onImageHasSize(a),b.updateStatus("error",k.tError.replace("%url%",a.src))),a.hasSize=!0,a.loaded=!0,a.loadError=!0)},k=
b.st.image,u=c.find(".mfp-img");if(u.length){var l=document.createElement("img");l.className="mfp-img";a.el&&a.el.find("img").length&&(l.alt=a.el.find("img").attr("alt"));a.img=d(l).on("load.mfploader",h).on("error.mfploader",g);l.src=a.src;u.is("img")&&(a.img=a.img.clone());l=a.img[0];0<l.naturalWidth?a.hasSize=!0:l.width||(a.hasSize=!1)}b._parseMarkup(c,{title:U(a),img_replaceWith:a.img},a);b.resizeImage();if(a.hasSize)return F&&clearInterval(F),a.loadError?(c.addClass("mfp-loading"),b.updateStatus("error",
k.tError.replace("%url%",a.src))):(c.removeClass("mfp-loading"),b.updateStatus("ready")),c;b.updateStatus("loading");a.loading=!0;a.hasSize||(a.imgHidden=!0,c.addClass("mfp-loading"),b.findImageSize(a));return c}}});var V;d.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a=b.st.zoom,c;if(a.enabled&&b.supportsTransition){var d=a.duration,f=function(c){c=c.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image");
var b={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"};b["-webkit-transition"]=b["-moz-transition"]=b["-o-transition"]=b.transition="all "+a.duration/1E3+"s "+a.easing;c.css(b);return c},h=function(){b.content.css("visibility","visible")},g,k;l("BuildControls.zoom",function(){b._allowZoom()&&(clearTimeout(g),b.content.css("visibility","hidden"),(c=b._getItemToZoom())?(k=f(c),k.css(b._getOffset()),b.wrap.append(k),g=setTimeout(function(){k.css(b._getOffset(!0));g=
setTimeout(function(){h();setTimeout(function(){k.remove();c=k=null;r("ZoomAnimationEnded")},16)},d)},16)):h())});l("BeforeClose.zoom",function(){if(b._allowZoom()){clearTimeout(g);b.st.removalDelay=d;if(!c){c=b._getItemToZoom();if(!c)return;k=f(c)}k.css(b._getOffset(!0));b.wrap.append(k);b.content.css("visibility","hidden");setTimeout(function(){k.css(b._getOffset())},16)}});l("Close.zoom",function(){b._allowZoom()&&(h(),k&&k.remove(),c=null)})}},_allowZoom:function(){return"image"===b.currItem.type},
_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var f=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);c=f.offset();var h=parseInt(f.css("padding-top"),10),g=parseInt(f.css("padding-bottom"),10);c.top-=d(window).scrollTop()-h;f={width:f.width(),height:(a?f.innerHeight():f[0].offsetHeight)-g-h};void 0===V&&(V=void 0!==document.createElement("p").style.MozTransform);V?f["-moz-transform"]=f.transform="translate("+c.left+"px,"+c.top+"px)":(f.left=
c.left,f.top=c.top);return f}}});var W=function(a){if(b.currTemplate.iframe){var c=b.currTemplate.iframe.find("iframe");c.length&&(a||(c[0].src="//about:blank"),b.isIE8&&c.css("display",a?"block":"none"))}};d.magnificPopup.registerModule("iframe",{options:{markup:'\x3cdiv class\x3d"mfp-iframe-scaler"\x3e\x3cdiv class\x3d"mfp-close"\x3e\x3c/div\x3e\x3ciframe class\x3d"mfp-iframe" src\x3d"//about:blank" frameborder\x3d"0" allowfullscreen\x3e\x3c/iframe\x3e\x3c/div\x3e',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",
id:"v\x3d",src:"//www.youtube.com/embed/%id%?autoplay\x3d1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay\x3d1"},gmaps:{index:"//maps.google.",src:"%id%\x26output\x3dembed"}}},proto:{initIframe:function(){b.types.push("iframe");l("BeforeChange",function(a,c,b){c!==b&&("iframe"===c?W():"iframe"===b&&W(!0))});l("Close.iframe",function(){W()})},getIframe:function(a,c){var f=a.src,h=b.st.iframe;d.each(h.patterns,function(){if(-1<f.indexOf(this.index))return this.id&&(f=
"string"===typeof this.id?f.substr(f.lastIndexOf(this.id)+this.id.length,f.length):this.id.call(this,f)),f=this.src.replace("%id%",f),!1});var g={};h.srcAction&&(g[h.srcAction]=f);b._parseMarkup(c,g,a);b.updateStatus("ready");return c}}});var X=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},ba=function(a,c,b){return a.replace(/%curr%/gi,c+1).replace(/%total%/gi,b)};d.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'\x3cbutton title\x3d"%title%" type\x3d"button" class\x3d"mfp-arrow mfp-arrow-%dir%"\x3e\x3c/button\x3e',
preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=b.st.gallery;b.direction=!0;if(!a||!a.enabled)return!1;k+=" mfp-gallery";l("Open.mfp-gallery",function(){if(a.navigateByImgClick)b.wrap.on("click.mfp-gallery",".mfp-img",function(){if(1<b.items.length)return b.next(),!1});g.on("keydown.mfp-gallery",function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})});l("UpdateStatus.mfp-gallery",
function(a,c){c.text&&(c.text=ba(c.text,b.currItem.index,b.items.length))});l("MarkupParse.mfp-gallery",function(c,d,f,h){c=b.items.length;f.counter=1<c?ba(a.tCounter,h.index,c):""});l("BuildControls.mfp-gallery",function(){if(1<b.items.length&&a.arrows&&!b.arrowLeft){var c=a.arrowMarkup,f=b.arrowLeft=d(c.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close");c=b.arrowRight=d(c.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");f.click(function(){b.prev()});
c.click(function(){b.next()});b.container.append(f.add(c))}});l("Change.mfp-gallery",function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout);b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages();b._preloadTimeout=null},16)});l("Close.mfp-gallery",function(){g.off(".mfp-gallery");b.wrap.off("click.mfp-gallery");b.arrowRight=b.arrowLeft=null})},next:function(){b.direction=!0;b.index=X(b.index+1);b.updateItemHTML()},prev:function(){b.direction=!1;b.index=X(b.index-1);b.updateItemHTML()},
goTo:function(a){b.direction=a>=b.index;b.index=a;b.updateItemHTML()},preloadNearbyImages:function(){var a=b.st.gallery.preload,c=Math.min(a[0],b.items.length);a=Math.min(a[1],b.items.length);var d;for(d=1;d<=(b.direction?a:c);d++)b._preloadItem(b.index+d);for(d=1;d<=(b.direction?c:a);d++)b._preloadItem(b.index-d)},_preloadItem:function(a){a=X(a);if(!b.items[a].preloaded){var c=b.items[a];c.parsed||(c=b.parseEl(a));r("LazyLoad",c);"image"===c.type&&(c.img=d('\x3cimg class\x3d"mfp-img" /\x3e').on("load.mfploader",
function(){c.hasSize=!0}).on("error.mfploader",function(){c.hasSize=!0;c.loadError=!0;r("LazyLoadError",c)}).attr("src",c.src));c.preloaded=!0}}}});d.magnificPopup.registerModule("retina",{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c;1<c&&(l("ImageHasSize.retina",function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),
l("ElementParse.retina",function(b,d){d.src=a.replaceSrc(d,c)}))}}}});A()});
!function(d,b){var n=d.document;var a=function(){var a,h,g,f,k,p,l,q,r,w,A,C,v={},B={},G=!1,I=[];return B={buttons:{holder:'\x3cnav class\x3d"alertify-buttons"\x3e{{buttons}}\x3c/nav\x3e',submit:'\x3cbutton type\x3d"submit" class\x3d"alertify-button alertify-button-ok" id\x3d"alertify-ok"\x3e{{ok}}\x3c/button\x3e',ok:'\x3cbutton class\x3d"alertify-button alertify-button-ok" id\x3d"alertify-ok"\x3e{{ok}}\x3c/button\x3e',cancel:'\x3cbutton class\x3d"alertify-button alertify-button-cancel" id\x3d"alertify-cancel"\x3e{{cancel}}\x3c/button\x3e'},input:'\x3cdiv class\x3d"alertify-text-wrapper"\x3e\x3cinput type\x3d"text" class\x3d"alertify-text" id\x3d"alertify-text"\x3e\x3c/div\x3e',
message:'\x3cdiv class\x3d"alertify-message"\x3e{{message}}\x3c/div\x3e',log:'\x3carticle class\x3d"alertify-log{{class}}"\x3e{{message}}\x3c/article\x3e'},C=function(){var a,c=!1,d=n.createElement("fakeelement"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in f)if(d.style[a]!==b){var h=f[a];c=!0;break}return{type:h,supported:c}},a=function(a){return n.getElementById(a)},v={labels:{ok:"OK",cancel:"Cancel"},delay:5E3,
buttonReverse:!1,buttonFocus:"ok",transition:b,addListeners:function(a){var c="undefined"!=typeof g,b="undefined"!=typeof h,d="undefined"!=typeof A,l="",p=this;var q=function(c){return"undefined"!=typeof c.preventDefault&&c.preventDefault(),r(c),"undefined"!=typeof A&&(l=A.value),"function"==typeof a&&("undefined"!=typeof A?a(!0,l):a(!0)),!1};var H=function(c){return"undefined"!=typeof c.preventDefault&&c.preventDefault(),r(c),"function"==typeof a&&a(!1),!1};var r=function(){p.hide();p.unbind(n.body,
"keyup",w);p.unbind(f,"focus",v);c&&p.unbind(g,"click",q);b&&p.unbind(h,"click",H)};var w=function(a){var c=a.keyCode;(32===c&&!d||d&&13===c)&&q(a);27===c&&b&&H(a)};var v=function(){d?A.focus():!b||p.buttonReverse?g.focus():h.focus()};this.bind(f,"focus",v);this.bind(k,"focus",v);c&&this.bind(g,"click",q);b&&this.bind(h,"click",H);this.bind(n.body,"keyup",w);this.transition.supported||this.setFocus()},bind:function(a,c,b){"function"==typeof a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent&&
a.attachEvent("on"+c,b)},handleErrors:function(){if("undefined"!=typeof d.onerror){var a=this;return d.onerror=function(c,b,d){a.error("["+c+" on line "+d+" of "+b+"]",0)},!0}return!1},appendButtons:function(a,c){return this.buttonReverse?c+a:a+c},build:function(a){var c="",b=a.type,d=a.message;a=a.cssClass||"";switch(c+='\x3cdiv class\x3d"alertify-dialog"\x3e',c+='\x3ca id\x3d"alertify-resetFocusBack" class\x3d"alertify-resetFocus" href\x3d"#"\x3eReset Focus\x3c/a\x3e',"none"===v.buttonFocus&&(c+=
'\x3ca href\x3d"#" id\x3d"alertify-noneFocus" class\x3d"alertify-hidden"\x3e\x3c/a\x3e'),"prompt"===b&&(c+='\x3cdiv id\x3d"alertify-form"\x3e'),c+='\x3carticle class\x3d"alertify-inner"\x3e',c+=B.message.replace("{{message}}",d),"prompt"===b&&(c+=B.input),c+=B.buttons.holder,c+="\x3c/article\x3e","prompt"===b&&(c+="\x3c/div\x3e"),c+='\x3ca id\x3d"alertify-resetFocus" class\x3d"alertify-resetFocus" href\x3d"#"\x3eReset Focus\x3c/a\x3e',c+="\x3c/div\x3e",b){case "confirm":c=c.replace("{{buttons}}",
this.appendButtons(B.buttons.cancel,B.buttons.ok));c=c.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case "prompt":c=c.replace("{{buttons}}",this.appendButtons(B.buttons.cancel,B.buttons.submit));c=c.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case "alert":c=c.replace("{{buttons}}",B.buttons.ok),c=c.replace("{{ok}}",this.labels.ok)}return r.className="alertify alertify-"+b+" "+a,q.className="alertify-cover",c},close:function(a,
c){var b=c&&!isNaN(c)?+c:this.delay,d=this;this.bind(a,"click",function(){h(a)});var f=function(a){a.stopPropagation();d.unbind(this,d.transition.type,f);w.removeChild(this);w.hasChildNodes()||(w.className+=" alertify-logs-hidden")};var h=function(a){"undefined"!=typeof a&&a.parentNode===w&&(d.transition.supported?(d.bind(a,d.transition.type,f),a.className+=" alertify-log-hide"):(w.removeChild(a),w.hasChildNodes()||(w.className+=" alertify-logs-hidden")))};0!==c&&setTimeout(function(){h(a)},b)},dialog:function(a,
c,b,d,f){l=n.activeElement;var h=function(){w&&null!==w.scrollTop&&q&&null!==q.scrollTop||h()};if("string"!=typeof a)throw Error("message must be a string");if("string"!=typeof c)throw Error("type must be a string");if("undefined"!=typeof b&&"function"!=typeof b)throw Error("fn must be a function");return this.init(),h(),I.push({type:c,message:a,callback:b,placeholder:d,cssClass:f}),G||this.setup(),this},extend:function(a){if("string"!=typeof a)throw Error("extend method must have exactly one paramter");
return function(c,b){return this.log(c,a,b),this}},hide:function(){var a,c=this;I.splice(0,1);0<I.length?this.setup(!0):(G=!1,a=function(b){b.stopPropagation();c.unbind(r,c.transition.type,a)},this.transition.supported?(this.bind(r,this.transition.type,a),r.className="alertify alertify-hide alertify-hidden"):r.className="alertify alertify-hide alertify-hidden alertify-isHidden",q.className="alertify-cover alertify-cover-hidden",l.focus())},init:function(){n.createElement("nav");n.createElement("article");
n.createElement("section");null==a("alertify-cover")&&(q=n.createElement("div"),q.setAttribute("id","alertify-cover"),q.className="alertify-cover alertify-cover-hidden",n.body.appendChild(q));null==a("alertify")&&(G=!1,I=[],r=n.createElement("section"),r.setAttribute("id","alertify"),r.className="alertify alertify-hidden",n.body.appendChild(r));null==a("alertify-logs")&&(w=n.createElement("section"),w.setAttribute("id","alertify-logs"),w.className="alertify-logs alertify-logs-hidden",n.body.appendChild(w));
n.body.setAttribute("tabindex","0");this.transition=C()},log:function(a,c,b){var d=function(){w&&null!==w.scrollTop||d()};return this.init(),d(),w.className="alertify-logs",this.notify(a,c,b),this},notify:function(a,c,b){var d=n.createElement("article");d.className="alertify-log"+("string"==typeof c&&""!==c?" alertify-log-"+c:"");d.innerHTML=a;w.appendChild(d);setTimeout(function(){d.className+=" alertify-log-show"},50);this.close(d,b)},set:function(a){var c;if("object"!=typeof a&&a instanceof Array)throw Error("args must be an object");
for(c in a)a.hasOwnProperty(c)&&(this[c]=a[c])},setFocus:function(){A?(A.focus(),A.select()):p.focus()},setup:function(c){var d=I[0],l=this;G=!0;var q=function(a){a.stopPropagation();l.setFocus();l.unbind(r,l.transition.type,q)};this.transition.supported&&!c&&this.bind(r,this.transition.type,q);r.innerHTML=this.build(d);f=a("alertify-resetFocus");k=a("alertify-resetFocusBack");g=a("alertify-ok")||b;h=a("alertify-cancel")||b;p="cancel"===v.buttonFocus?h:"none"===v.buttonFocus?a("alertify-noneFocus"):
g;A=a("alertify-text")||b;a("alertify-form");"string"==typeof d.placeholder&&""!==d.placeholder&&(A.value=d.placeholder);c&&this.setFocus();this.addListeners(d.callback)},unbind:function(a,c,b){"function"==typeof a.removeEventListener?a.removeEventListener(c,b,!1):a.detachEvent&&a.detachEvent("on"+c,b)}},{alert:function(a,c,b){return v.dialog(a,"alert",c,"",b),this},confirm:function(a,c,b){return v.dialog(a,"confirm",c,"",b),this},extend:v.extend,init:v.init,log:function(a,c,b){return v.log(a,c,b),
this},prompt:function(a,c,b,d){return v.dialog(a,"prompt",c,b,d),this},success:function(a,c){return v.log(a,"success",c),this},error:function(a,c){return v.log(a,"error",c),this},set:function(a){v.set(a)},labels:v.labels,debug:v.handleErrors}};"function"==typeof define?define([],function(){return new a}):"undefined"==typeof d.alertify&&(d.alertify=new a)}(this);
(function(d){function b(){if("undefined"==typeof jQuery)throw Error("HoldOn.js requires jQuery");return{open:function(b){$("#holdon-overlay").remove();var a="sk-rect",c="";b&&(b.hasOwnProperty("theme")&&(a=b.theme),b.hasOwnProperty("message")&&(c=b.message));switch(a){case "custom":a='\x3cdiv style\x3d"text-align: center;"\x3e'+b.content+"\x3c/div\x3e";break;case "sk-dot":a='\x3cdiv class\x3d"sk-dot"\x3e \x3cdiv class\x3d"sk-dot1"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-dot2"\x3e\x3c/div\x3e \x3c/div\x3e';
break;case "sk-rect":a='\x3cdiv class\x3d"sk-rect"\x3e \x3cdiv class\x3d"rect1"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect2"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect3"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect4"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect5"\x3e\x3c/div\x3e \x3c/div\x3e';break;case "sk-cube":a='\x3cdiv class\x3d"sk-cube"\x3e \x3cdiv class\x3d"sk-cube1"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube2"\x3e\x3c/div\x3e \x3c/div\x3e';break;case "sk-bounce":a='\x3cdiv class\x3d"sk-bounce"\x3e \x3cdiv class\x3d"bounce1"\x3e\x3c/div\x3e \x3cdiv class\x3d"bounce2"\x3e\x3c/div\x3e \x3cdiv class\x3d"bounce3"\x3e\x3c/div\x3e \x3c/div\x3e';
break;case "sk-circle":a='\x3cdiv class\x3d"sk-circle"\x3e \x3cdiv class\x3d"sk-circle1 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle2 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle3 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle4 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle5 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle6 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle7 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle8 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle9 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle10 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle11 sk-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-circle12 sk-child"\x3e\x3c/div\x3e \x3c/div\x3e';
break;case "sk-cube-grid":a='\x3cdiv class\x3d"sk-cube-grid"\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid1"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid2"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid3"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid4"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid5"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid6"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid7"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid8"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cube-child sk-cube-grid9"\x3e\x3c/div\x3e \x3c/div\x3e';
break;case "sk-folding-cube":a='\x3cdiv class\x3d"sk-folding-cube"\x3e \x3cdiv class\x3d"sk-cubechild1 sk-cube-parent"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cubechild2 sk-cube-parent"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cubechild4 sk-cube-parent"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-cubechild3 sk-cube-parent"\x3e\x3c/div\x3e \x3c/div\x3e';break;case "sk-fading-circle":a='\x3cdiv class\x3d"sk-fading-circle"\x3e \x3cdiv class\x3d"sk-fading-circle1 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle2 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle3 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle4 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle5 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle6 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle7 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle8 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle9 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle10 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle11 sk-circle-child"\x3e\x3c/div\x3e \x3cdiv class\x3d"sk-fading-circle12 sk-circle-child"\x3e\x3c/div\x3e \x3c/div\x3e';
break;default:a='\x3cdiv class\x3d"sk-rect"\x3e \x3cdiv class\x3d"rect1"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect2"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect3"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect4"\x3e\x3c/div\x3e \x3cdiv class\x3d"rect5"\x3e\x3c/div\x3e \x3c/div\x3e'}$('\x3cdiv id\x3d"holdon-overlay" style\x3d"display: none;"\x3e\n                                    \x3cdiv id\x3d"holdon-content-container"\x3e\n                                        \x3cdiv id\x3d"holdon-content"\x3e'+a+'\x3c/div\x3e\n                                        \x3cdiv id\x3d"holdon-message"\x3e'+
c+"\x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e").appendTo("body").fadeIn(300);b&&(b.backgroundColor&&$("#holdon-overlay").css("backgroundColor",b.backgroundColor),b.backgroundColor&&$("#holdon-message").css("color",b.textColor))},close:function(){$("#holdon-overlay").fadeOut(300,function(){$(this).remove()})}}}"undefined"===typeof HoldOn&&(d.HoldOn=b())})(window);
!function(d){"function"==typeof define&&define.amd?define(["jquery"],d):"object"==typeof module&&module.exports?module.exports=d(require("jquery")):d(jQuery)}(function(d){d.extend(d.fn,{validate:function(a){if(this.length){var c=d.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new d.validator(a,this[0]),d.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(a){c.submitButton=a.currentTarget;d(this).hasClass("cancel")&&(c.cancelSubmit=
!0);void 0!==d(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(a){function b(){var b,h;return c.submitButton&&(c.settings.submitHandler||c.formSubmitted)&&(b=d("\x3cinput type\x3d'hidden'/\x3e").attr("name",c.submitButton.name).val(d(c.submitButton).val()).appendTo(c.currentForm)),!(c.settings.submitHandler&&!c.settings.debug)||(h=c.settings.submitHandler.call(c,c.currentForm,a),b&&b.remove(),void 0!==h&&h)}return c.settings.debug&&a.preventDefault(),c.cancelSubmit?
(c.cancelSubmit=!1,b()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):b():(c.focusInvalid(),!1)})),c)}},valid:function(){var a,c,b;return d(this[0]).is("form")?a=this.validate().form():(b=[],a=!0,c=d(this[0].form).validate(),this.each(function(){(a=c.element(this)&&a)||(b=b.concat(c.errorList))}),c.errorList=b),a},rules:function(a,c){var b,g,f,k,p,l=this[0];var q="undefined"!=typeof this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=l&&(!l.form&&q&&(l.form=this.closest("form")[0],
l.name=this.attr("name")),null!=l.form)){if(a)switch(b=d.data(l.form,"validator").settings,q=b.rules,g=d.validator.staticRules(l),a){case "add":d.extend(g,d.validator.normalizeRule(c));delete g.messages;q[l.name]=g;c.messages&&(b.messages[l.name]=d.extend(b.messages[l.name],c.messages));break;case "remove":return c?(p={},d.each(c.split(/\s/),function(a,c){p[c]=g[c];delete g[c]}),p):(delete q[l.name],g)}return f=d.validator.normalizeRules(d.extend({},d.validator.classRules(l),d.validator.attributeRules(l),
d.validator.dataRules(l),d.validator.staticRules(l)),l),f.required&&(k=f.required,delete f.required,f=d.extend({required:k},f)),f.remote&&(k=f.remote,delete f.remote,f=d.extend(f,{remote:k})),f}}});d.extend(d.expr.pseudos||d.expr[":"],{blank:function(a){return!d.trim(""+d(a).val())},filled:function(a){a=d(a).val();return null!==a&&!!d.trim(""+a)},unchecked:function(a){return!d(a).prop("checked")}});d.validator=function(a,c){this.settings=d.extend(!0,{},d.validator.defaults,a);this.currentForm=c;this.init()};
d.validator.format=function(a,c){return 1===arguments.length?function(){var c=d.makeArray(arguments);return c.unshift(a),d.validator.format.apply(this,c)}:void 0===c?a:(2<arguments.length&&c.constructor!==Array&&(c=d.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),d.each(c,function(c,b){a=a.replace(new RegExp("\\{"+c+"\\}","g"),function(){return b})}),a)};d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",
focusCleanup:!1,focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,c){var b=[16,17,18,20,35,36,37,38,
39,40,45,144,225];9===c.which&&""===this.elementValue(a)||-1!==d.inArray(c.keyCode,b)||(a.name in this.submitted||a.name in this.invalid)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,c,b){"radio"===a.type?this.findByName(a.name).addClass(c).removeClass(b):d(a).addClass(c).removeClass(b)},unhighlight:function(a,c,b){"radio"===a.type?this.findByName(a.name).removeClass(c).addClass(b):
d(a).removeClass(c).addClass(b)}},setDefaults:function(a){d.extend(d.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),
minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}."),step:d.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function a(a){var b=
"undefined"!=typeof d(this).attr("contenteditable")&&"false"!==d(this).attr("contenteditable");if(!this.form&&b&&(this.form=d(this).closest("form")[0],this.name=d(this).attr("name")),c===this.form){b=d.data(this.form,"validator");var f="on"+a.type.replace(/^validate/,""),h=b.settings;h[f]&&!d(this).is(h.ignore)&&h[f].call(b,this,a)}}this.labelContainer=d(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm);this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer);
this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.currentForm,b=this.groups={};d.each(this.settings.groups,function(a,c){"string"==typeof c&&(c=c.split(/\s/));d.each(c,function(c,d){b[d]=a})});var g=this.settings.rules;d.each(g,function(a,c){g[a]=d.validator.normalizeRule(c)});d(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type\x3d'password'], [type\x3d'file'], select, textarea, [type\x3d'number'], [type\x3d'search'], [type\x3d'tel'], [type\x3d'url'], [type\x3d'email'], [type\x3d'datetime'], [type\x3d'date'], [type\x3d'month'], [type\x3d'week'], [type\x3d'time'], [type\x3d'datetime-local'], [type\x3d'range'], [type\x3d'color'], [type\x3d'radio'], [type\x3d'checkbox'], [contenteditable], [type\x3d'button']",
a).on("click.validate","select, option, [type\x3d'radio'], [type\x3d'checkbox']",a);this.settings.invalidHandler&&d(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,c=this.currentElements=this.elements();c[a];a++)this.check(c[a]);
return this.valid()},element:function(a){var c,b,g=this.clean(a),f=this.validationTargetFor(g),k=this,p=!0;return void 0===f?delete this.invalid[g.name]:(this.prepareElement(f),this.currentElements=d(f),b=this.groups[f.name],b&&d.each(this.groups,function(a,c){c===b&&a!==f.name&&(g=k.validationTargetFor(k.clean(k.findByName(a))),g&&g.name in k.invalid&&(k.currentElements.push(g),p=k.check(g)&&p))}),c=!1!==this.check(f),p=p&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||
(this.toHide=this.toHide.add(this.containers)),this.showErrors(),d(a).attr("aria-invalid",!c)),p},showErrors:function(a){if(a){var c=this;d.extend(this.errorMap,a);this.errorList=d.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}});this.successList=d.grep(this.successList,function(c){return!(c.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){d.fn.resetForm&&d(this.currentForm).resetForm();
this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var a=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(a)},resetElements:function(a){var c;if(this.settings.unhighlight)for(c=0;a[c];c++)this.settings.unhighlight.call(this,a[c],this.settings.errorClass,""),this.findByName(a[c].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},
objectLength:function(a){var c,b=0;for(c in a)void 0!==a[c]&&null!==a[c]&&!1!==a[c]&&b++;return b},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text("");this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(a){}},
findLastActive:function(){var a=this.lastActive;return a&&1===d.grep(this.errorList,function(c){return c.element.name===a.name}).length&&a},elements:function(){var a=this,c={};return d(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var b=this.name||d(this).attr("name");return"undefined"!=typeof d(this).attr("contenteditable")&&"false"!==d(this).attr("contenteditable")&&(this.form=d(this).closest("form")[0],
this.name=b),this.form===a.currentForm&&!(b in c||!a.objectLength(d(this).rules()))&&(c[b]=!0,!0)})},clean:function(a){return d(a)[0]},errors:function(){var a=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+a,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=d([]);this.toHide=d([])},reset:function(){this.resetInternals();this.currentElements=d([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},elementValue:function(a){var c,b,g=d(a),f=a.type,k="undefined"!=typeof g.attr("contenteditable")&&"false"!==g.attr("contenteditable");return"radio"===f||"checkbox"===f?this.findByName(a.name).filter(":checked").val():"number"===f&&"undefined"!=typeof a.validity?a.validity.badInput?"NaN":g.val():(c=k?g.text():g.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(b=c.lastIndexOf("/"),0<=b?c.substr(b+1):(b=c.lastIndexOf("\\"),
0<=b?c.substr(b+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(a){a=this.validationTargetFor(this.clean(a));var c,b,g,f=d(a).rules(),k=d.map(f,function(a,c){return c}).length,p=!1,l=this.elementValue(a);"function"==typeof f.normalizer?g=f.normalizer:"function"==typeof this.settings.normalizer&&(g=this.settings.normalizer);g&&(l=g.call(a,l),delete f.normalizer);for(b in f){g={method:b,parameters:f[b]};try{if(c=d.validator.methods[b].call(this,l,a,g.parameters),"dependency-mismatch"===
c&&1===k)p=!0;else{if(p=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(a)));if(!c)return this.formatAndAdd(a,g),!1}}catch(q){throw q instanceof TypeError&&(q.message+=".  Exception occurred when checking element "+a.id+", check the '"+g.method+"' method."),q;}}if(!p)return this.objectLength(f)&&this.successList.push(a),!0},customDataMessage:function(a,c){return d(a).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||d(a).data("msg")},customMessage:function(a,
c){return(a=this.settings.messages[a])&&(a.constructor===String?a:a[c])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(a,c){"string"==typeof c&&(c={method:c});var b=this.findDefined(this.customMessage(a.name,c.method),this.customDataMessage(a,c.method),!this.settings.ignoreTitle&&a.title||void 0,d.validator.messages[c.method],"\x3cstrong\x3eWarning: No message defined for "+a.name+"\x3c/strong\x3e"),g=/\$?\{(\d+)\}/g;
return"function"==typeof b?b=b.call(this,c.parameters,a):g.test(b)&&(b=d.validator.format(b.replace(g,"{$1}"),c.parameters)),b},formatAndAdd:function(a,c){var b=this.defaultMessage(a,c);this.errorList.push({message:b,element:a,method:c.method});this.errorMap[a.name]=b;this.submitted[a.name]=b},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&
this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass);this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,c=this.validElements();c[a];a++)this.settings.unhighlight.call(this,c[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();
this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(a,c){var b,g,f,k,p=this.errorsFor(a),l=this.idOrName(a),q=d(a).attr("aria-describedby");p.length?(p.removeClass(this.settings.validClass).addClass(this.settings.errorClass),p.html(c)):(p=d("\x3c"+this.settings.errorElement+"\x3e").attr("id",l+"-error").addClass(this.settings.errorClass).html(c||
""),b=p,this.settings.wrapper&&(b=p.hide().show().wrap("\x3c"+this.settings.wrapper+"/\x3e").parent()),this.labelContainer.length?this.labelContainer.append(b):this.settings.errorPlacement?this.settings.errorPlacement.call(this,b,d(a)):b.insertAfter(a),p.is("label")?p.attr("for",l):0===p.parents("label[for\x3d'"+this.escapeCssMeta(l)+"']").length&&(f=p.attr("id"),q?q.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(q+=" "+f):q=f,d(a).attr("aria-describedby",q),g=this.groups[a.name],g&&(k=this,
d.each(k.groups,function(a,c){c===g&&d("[name\x3d'"+k.escapeCssMeta(a)+"']",k.currentForm).attr("aria-describedby",p.attr("id"))}))));!c&&this.settings.success&&(p.text(""),"string"==typeof this.settings.success?p.addClass(this.settings.success):this.settings.success(p,a));this.toShow=this.toShow.add(p)},errorsFor:function(a){var c=this.escapeCssMeta(this.idOrName(a));a=d(a).attr("aria-describedby");c="label[for\x3d'"+c+"'], label[for\x3d'"+c+"'] *";return a&&(c=c+", #"+this.escapeCssMeta(a).replace(/\s+/g,
", #")),this.errors().filter(c)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name)),d(a).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){return d(this.currentForm).find("[name\x3d'"+this.escapeCssMeta(a)+"']")},getLength:function(a,
c){switch(c.nodeName.toLowerCase()){case "select":return d("option:selected",c).length;case "input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return a.length},depend:function(a,c){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,c)},dependTypes:{"boolean":function(a){return a},string:function(a,c){return!!d(a,c.form).length},"function":function(a,c){return a(c)}},optional:function(a){var c=this.elementValue(a);return!d.validator.methods.required.call(this,
c,a)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,d(a).addClass(this.settings.pendingClass),this.pending[a.name]=!0)},stopRequest:function(a,c){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[a.name];d(a).removeClass(this.settings.pendingClass);c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(d(this.currentForm).submit(),this.submitButton&&d("input:hidden[name\x3d'"+this.submitButton.name+"']",this.currentForm).remove(),
this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(a,c){return c="string"==typeof c&&c||"remote",d.data(a,"previousValue")||d.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,{method:c})})},destroy:function(){this.resetForm();d(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},
classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,c){a.constructor===String?this.classRuleSettings[a]=c:d.extend(this.classRuleSettings,a)},classRules:function(a){var c={};a=d(a).attr("class");return a&&d.each(a.split(" "),function(){this in d.validator.classRuleSettings&&d.extend(c,d.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,
c,b,d){/min|max|step/.test(b)&&(null===c||/number|range|text/.test(c))&&(d=Number(d),isNaN(d)&&(d=void 0));d||0===d?a[b]=d:c===b&&"range"!==c&&(a[b]=!0)},attributeRules:function(a){var c,b,g={},f=d(a),k=a.getAttribute("type");for(c in d.validator.methods)"required"===c?(b=a.getAttribute(c),""===b&&(b=!0),b=!!b):b=f.attr(c),this.normalizeAttributeRule(g,k,c,b);return g.maxlength&&/-1|2147483647|524288/.test(g.maxlength)&&delete g.maxlength,g},dataRules:function(a){var c,b={},g=d(a),f=a.getAttribute("type");
for(c in d.validator.methods)a=g.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),""===a&&(a=!0),this.normalizeAttributeRule(b,f,c,a);return b},staticRules:function(a){var c={},b=d.data(a.form,"validator");return b.settings.rules&&(c=d.validator.normalizeRule(b.settings.rules[a.name])||{}),c},normalizeRules:function(a,c){return d.each(a,function(b,g){if(!1===g)return void delete a[b];if(g.param||g.depends){var f=!0;switch(typeof g.depends){case "string":f=!!d(g.depends,c.form).length;
break;case "function":f=g.depends.call(c,c)}f?a[b]=void 0===g.param||g.param:(d.data(c.form,"validator").resetElements(d(c)),delete a[b])}}),d.each(a,function(b,g){a[b]=d.isFunction(g)&&"normalizer"!==b?g(c):g}),d.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),d.each(["rangelength","range"],function(){var c;a[this]&&(d.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(c=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=
[Number(c[0]),Number(c[1])]))}),d.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength)),a},normalizeRule:function(a){if("string"==typeof a){var c={};d.each(a.split(/\s/),function(){c[this]=!0});a=c}return a},addMethod:function(a,c,b){d.validator.methods[a]=c;d.validator.messages[a]=void 0!==b?b:d.validator.messages[a];3>c.length&&
d.validator.addClassRules(a,d.validator.normalizeRule(a))},methods:{required:function(a,c,b){return this.depend(b,c)?"select"===c.nodeName.toLowerCase()?(a=d(c).val())&&0<a.length:this.checkable(c)?0<this.getLength(a,c):void 0!==a&&null!==a&&0<a.length:"dependency-mismatch"},email:function(a,c){return this.optional(c)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,c){return this.optional(c)||
/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(){var a=!1;return function(c,
b){return a||(a=!0),this.optional(b)||!/Invalid|NaN/.test((new Date(c)).toString())}}(),dateISO:function(a,c){return this.optional(c)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,c){return this.optional(c)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,c){return this.optional(c)||/^\d+$/.test(a)},minlength:function(a,c,b){a=d.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||a>=b},maxlength:function(a,c,b){a=d.isArray(a)?
a.length:this.getLength(a,c);return this.optional(c)||a<=b},rangelength:function(a,c,b){a=d.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||a>=b[0]&&a<=b[1]},min:function(a,c,b){return this.optional(c)||a>=b},max:function(a,c,b){return this.optional(c)||a<=b},range:function(a,c,b){return this.optional(c)||a>=b[0]&&a<=b[1]},step:function(a,c,b){var g,f=d(c).attr("type"),k="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],l=new RegExp("\\b"+f+"\\b"),
q=function(a){return(a=(""+a).match(/(?:\.(\d+))?$/))&&a[1]?a[1].length:0},r=!0;if(f&&!l.test(h.join()))throw Error(k);return g=q(b),(q(a)>g||0!==Math.round(a*Math.pow(10,g))%Math.round(b*Math.pow(10,g)))&&(r=!1),this.optional(c)||r},equalTo:function(a,c,b){b=d(b);return this.settings.onfocusout&&b.not(".validate-equalTo-blur").length&&b.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){d(c).valid()}),a===b.val()},remote:function(a,c,b,g){if(this.optional(c))return"dependency-mismatch";
g="string"==typeof g&&g||"remote";var f,k,h,l=this.previousValue(c,g);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[c.name][g],this.settings.messages[c.name][g]=l.message,b="string"==typeof b&&{url:b}||b,h=d.param(d.extend({data:a},b.data)),l.old===h?l.valid:(l.old=h,f=this,this.startRequest(c),k={},k[c.name]=a,d.ajax(d.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:k,context:f.currentForm,
success:function(b){var d,k,h,p=!0===b||"true"===b;f.settings.messages[c.name][g]=l.originalMessage;p?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},k=b||f.defaultMessage(c,{method:g,parameters:a}),d[c.name]=l.message=k,f.invalid[c.name]=!0,f.showErrors(d));l.valid=p;f.stopRequest(c,p)}},b)),"pending")}}});var b,n={};return d.ajaxPrefilter?d.ajaxPrefilter(function(a,c,b){c=a.port;"abort"===a.mode&&(n[c]&&
n[c].abort(),n[c]=b)}):(b=d.ajax,d.ajax=function(a){var c=("port"in a?a:d.ajaxSettings).port;return"abort"===("mode"in a?a:d.ajaxSettings).mode?(n[c]&&n[c].abort(),n[c]=b.apply(this,arguments),n[c]):b.apply(this,arguments)}),d});
(function(d){d.artaraxRatingStar=function(b){function n(a,b){var c=0;d(".rating-star span").each(function(){c=parseInt(d(this).attr("data-val"));c<=a?d(this).addClass(b):d(this).removeClass(b)})}var a=d.extend({},{onClickCallBack:null},b).onClickCallBack;d(".rating-star span").hover(function(){var a=parseInt(d(this).attr("data-val"));n(a,"hover")});d(".rating-star span").mouseout(function(){d(".rating-star span").each(function(){d(this).removeClass("hover")})});d(".rating-star span").click(function(){if(null!=
a){var c=parseInt(d(this).attr("data-val")),b=parseInt(d(this).attr("data-id"));n(c,"clicked");a(c,b)}});return{highlightRatingStars:function(a){n(Math.round(a),"clicked")}}}})(jQuery);
(function(d,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):"object"===typeof exports?exports.Pusher=b():d.Pusher=b()})(window,function(){return function(d){function b(a){if(n[a])return n[a].exports;var c=n[a]={i:a,l:!1,exports:{}};d[a].call(c.exports,c,c.exports,b);c.l=!0;return c.exports}var n={};b.m=d;b.c=n;b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})};b.r=function(a){"undefined"!==typeof Symbol&&
Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,c){c&1&&(a=b(a));if(c&8||c&4&&"object"===typeof a&&a&&a.__esModule)return a;var d=Object.create(null);b.r(d);Object.defineProperty(d,"default",{enumerable:!0,value:a});if(c&2&&"string"!=typeof a)for(var g in a)b.d(d,g,function(c){return a[c]}.bind(null,g));return d};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};
b.d(c,"a",c);return c};b.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};b.p="";return b(b.s=2)}([function(d,b,n){var a=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,b)};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();Object.defineProperty(b,
"__esModule",{value:!0});d=function(){function a(a){void 0===a&&(a="\x3d");this._paddingCharacter=a}a.prototype.encodedLength=function(a){return this._paddingCharacter?(a+2)/3*4|0:(8*a+5)/6|0};a.prototype.encode=function(a){for(var c="",b=0;b<a.length-2;b+=3){var d=a[b]<<16|a[b+1]<<8|a[b+2];c+=this._encodeByte(d>>>18&63);c+=this._encodeByte(d>>>12&63);c+=this._encodeByte(d>>>6&63);c+=this._encodeByte(d>>>0&63)}var f=a.length-b;0<f&&(d=a[b]<<16|(2===f?a[b+1]<<8:0),c+=this._encodeByte(d>>>18&63),c+=
this._encodeByte(d>>>12&63),c=2===f?c+this._encodeByte(d>>>6&63):c+(this._paddingCharacter||""),c+=this._paddingCharacter||"");return c};a.prototype.maxDecodedLength=function(a){return this._paddingCharacter?a/4*3|0:(6*a+7)/8|0};a.prototype.decodedLength=function(a){return this.maxDecodedLength(a.length-this._getPaddingLength(a))};a.prototype.decode=function(a){if(0===a.length)return new Uint8Array(0);var c=this._getPaddingLength(a);c=a.length-c;for(var b=new Uint8Array(this.maxDecodedLength(c)),
d=0,f=0,g=0,h,n=0,C=0,v;f<c-4;f+=4)h=this._decodeChar(a.charCodeAt(f+0)),n=this._decodeChar(a.charCodeAt(f+1)),C=this._decodeChar(a.charCodeAt(f+2)),v=this._decodeChar(a.charCodeAt(f+3)),b[d++]=h<<2|n>>>4,b[d++]=n<<4|C>>>2,b[d++]=C<<6|v,g|=h&256,g|=n&256,g|=C&256,g|=v&256;f<c-1&&(h=this._decodeChar(a.charCodeAt(f)),n=this._decodeChar(a.charCodeAt(f+1)),b[d++]=h<<2|n>>>4,g=g|h&256|n&256);f<c-2&&(C=this._decodeChar(a.charCodeAt(f+2)),b[d++]=n<<4|C>>>2,g|=C&256);f<c-3&&(v=this._decodeChar(a.charCodeAt(f+
3)),b[d++]=C<<6|v,g|=v&256);if(0!==g)throw Error("Base64Coder: incorrect characters for decoding");return b};a.prototype._encodeByte=function(a){return String.fromCharCode(a+65+(25-a>>>8&6)+(51-a>>>8&-75)+(61-a>>>8&-15)+(62-a>>>8&3))};a.prototype._decodeChar=function(a){return 256+((42-a&a-44)>>>8&-256+a-43+62)+((46-a&a-48)>>>8&-256+a-47+63)+((47-a&a-58)>>>8&-256+a-48+52)+((64-a&a-91)>>>8&-256+a-65)+((96-a&a-123)>>>8&-256+a-97+26)};a.prototype._getPaddingLength=function(a){var c=0;if(this._paddingCharacter){for(var b=
a.length-1;0<=b&&a[b]===this._paddingCharacter;b--)c++;if(4>a.length||2<c)throw Error("Base64Coder: incorrect padding");}return c};return a}();b.Coder=d;var c=new d;b.encode=function(a){return c.encode(a)};b.decode=function(a){return c.decode(a)};d=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}a(b,c);b.prototype._encodeByte=function(a){return String.fromCharCode(a+65+(25-a>>>8&6)+(51-a>>>8&-75)+(61-a>>>8&-13)+(62-a>>>8&49))};b.prototype._decodeChar=function(a){return 256+
((44-a&a-46)>>>8&-256+a-45+62)+((94-a&a-96)>>>8&-256+a-95+63)+((47-a&a-58)>>>8&-256+a-48+52)+((64-a&a-91)>>>8&-256+a-65)+((96-a&a-123)>>>8&-256+a-97+26)};return b}(d);b.URLSafeCoder=d;var h=new d;b.encodeURLSafe=function(a){return h.encode(a)};b.decodeURLSafe=function(a){return h.decode(a)};b.encodedLength=function(a){return c.encodedLength(a)};b.maxDecodedLength=function(a){return c.maxDecodedLength(a)};b.decodedLength=function(a){return c.decodedLength(a)}},function(d,b,n){function a(a){for(var c=
0,b=0;b<a.length;b++){var d=a.charCodeAt(b);if(128>d)c+=1;else if(2048>d)c+=2;else if(55296>d)c+=3;else if(57343>=d){if(b>=a.length-1)throw Error("utf8: invalid string");b++;c+=4}else throw Error("utf8: invalid string");}return c}Object.defineProperty(b,"__esModule",{value:!0});b.encode=function(c){for(var b=new Uint8Array(a(c)),d=0,f=0;f<c.length;f++){var k=c.charCodeAt(f);128>k?b[d++]=k:(2048>k?b[d++]=192|k>>6:(55296>k?b[d++]=224|k>>12:(f++,k=(k&1023)<<10,k|=c.charCodeAt(f)&1023,k+=65536,b[d++]=
240|k>>18,b[d++]=128|k>>12&63),b[d++]=128|k>>6&63),b[d++]=128|k&63)}return b};b.encodedLength=a;b.decode=function(a){for(var c=[],b=0;b<a.length;b++){var d=a[b];if(d&128){if(224>d){if(b>=a.length)throw Error("utf8: invalid source encoding");var k=a[++b];if(128!==(k&192))throw Error("utf8: invalid source encoding");d=(d&31)<<6|k&63;k=128}else if(240>d){if(b>=a.length-1)throw Error("utf8: invalid source encoding");k=a[++b];var n=a[++b];if(128!==(k&192)||128!==(n&192))throw Error("utf8: invalid source encoding");
d=(d&15)<<12|(k&63)<<6|n&63;k=2048}else if(248>d){if(b>=a.length-2)throw Error("utf8: invalid source encoding");k=a[++b];n=a[++b];var l=a[++b];if(128!==(k&192)||128!==(n&192)||128!==(l&192))throw Error("utf8: invalid source encoding");d=(d&15)<<18|(k&63)<<12|(n&63)<<6|l&63;k=65536}else throw Error("utf8: invalid source encoding");if(d<k||55296<=d&&57343>=d)throw Error("utf8: invalid source encoding");if(65536<=d){if(1114111<d)throw Error("utf8: invalid source encoding");d-=65536;c.push(String.fromCharCode(55296|
d>>10));d=56320|d&1023}}c.push(String.fromCharCode(d))}return c.join("")}},function(d,b,n){d.exports=n(3).default},function(d,b,n){function a(a){window.clearTimeout(a)}function c(a){window.clearInterval(a)}function h(a,...b){for(var e=0;e<b.length;e++){var c=b[e],m;for(m in c)a[m]=c[m]&&c[m].constructor&&c[m].constructor===Object?h(a[m]||{},c[m]):c[m]}return a}function g(){for(var a=["Pusher"],b=0;b<arguments.length;b++)"string"===typeof arguments[b]?a.push(arguments[b]):a.push(L(arguments[b]));return a.join(" : ")}
function f(a,b){var e=Array.prototype.indexOf;if(null===a)return-1;if(e&&a.indexOf===e)return a.indexOf(b);e=0;for(var c=a.length;e<c;e++)if(a[e]===b)return e;return-1}function k(a,b){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&b(a[e],e,a)}function p(a){var e=[];k(a,function(a,b){e.push(b)});return e}function l(a){var e=[];k(a,function(a){e.push(a)});return e}function q(a,b,c){for(var e=0;e<a.length;e++)b.call(c||window,a[e],e,a)}function r(a,b){for(var e=[],c=0;c<a.length;c++)e.push(b(a[c],
c,a,e));return e}function w(a,b){var e={};k(a,function(a,c){e[c]=b(a)});return e}function A(a,b){b=b||function(a){return!!a};for(var e=[],c=0;c<a.length;c++)b(a[c],c,a,e)&&e.push(a[c]);return e}function C(a,b){var e={};k(a,function(c,m){if(b&&b(c,m,a,e)||c)e[m]=c});return e}function v(a){var e=[];k(a,function(a,b){e.push([b,a])});return e}function B(a,b){for(var e=0;e<a.length;e++)if(b(a[e],e,a))return!0;return!1}function G(a,b){for(var e=0;e<a.length;e++)if(!b(a[e],e,a))return!1;return!0}function I(a){return w(a,
function(a){"object"===typeof a&&(a=L(a));return encodeURIComponent(La(a.toString().replace(/[^\x00-\x7F]/g,Ma)))})}function H(a){a=C(a,function(a){return void 0!==a});return r(v(I(a)),D.method("join","\x3d")).join("\x26")}function T(a){var e=[],b=[];return function xa(a,c){var m,d;switch(typeof a){case "object":if(!a)return null;for(m=0;m<e.length;m+=1)if(e[m]===a)return{$ref:b[m]};e.push(a);b.push(c);if("[object Array]"===Object.prototype.toString.apply(a)){var x=[];for(m=0;m<a.length;m+=1)x[m]=
xa(a[m],c+"["+m+"]")}else for(d in x={},a)Object.prototype.hasOwnProperty.call(a,d)&&(x[d]=xa(a[d],c+"["+JSON.stringify(d)+"]"));return x;case "number":case "string":case "boolean":return a}}(a,"$")}function L(a){try{return JSON.stringify(a)}catch(m){return JSON.stringify(T(a))}}function F(a,b,c){return a+(b.useTLS?"s":"")+"://"+(b.useTLS?b.hostTLS:b.hostNonTLS)+c}function U(a,b){return"/app/"+a+("?protocol\x3d"+z.PROTOCOL+"\x26client\x3djs\x26version\x3d"+z.VERSION+(b?"\x26"+b:""))}function V(a,
b){if(0===a.indexOf("private-encrypted-")){if(b.config.nacl)return J.createEncryptedChannel(a,b,b.config.nacl);a=Y.buildLogSuffix("encryptedChannelSupport");throw new ya(`${"Tried to subscribe to a private-encrypted- channel but no nacl implementation available"}. ${a}`);}if(0===a.indexOf("private-"))return J.createPrivateChannel(a,b);if(0===a.indexOf("presence-"))return J.createPresenceChannel(a,b);if(0===a.indexOf("#"))throw new Na('Cannot create a channel with name "'+a+'".');return J.createChannel(a,
b)}function W(a,b,c){var e=r(a,function(a,e,m,d){return a.connect(b,c(e,d))});return{abort:function(){q(e,ba)},forceMinPriority:function(a){q(e,function(e){e.forceMinPriority(a)})}}}function X(a){return G(a,function(a){return!!a.error})}function ba(a){a.error||a.aborted||(a.abort(),a.aborted=!0)}function u(a){return"pusherTransport"+(a?"TLS":"NonTLS")}function Ja(a){var e=t.getLocalStorage();if(e)try{var b=e[u(a)];if(b)return JSON.parse(b)}catch(Tb){ta(a)}return null}function ta(a){var e=t.getLocalStorage();
if(e)try{delete e[u(a)]}catch(x){}}function S(a){return function(){return a.isSupported()}}function ua(a){var e=-1===a.indexOf("?")?"?":"\x26";return a+e+"t\x3d"+ +new Date+"\x26n\x3d"+Oa++}function va(a,b){D.defer(function(){b(a)});return{abort:function(){},forceMinPriority:function(){}}}function Ka(a,b){var e=a.activityTimeout||z.activityTimeout,c=a.cluster,m=a.httpPath||z.httpPath,d=a.httpPort||z.httpPort,f=a.httpsPort||z.httpsPort,g=a.pongTimeout||z.pongTimeout,h=a.statsHost||z.stats_host,k=a.unavailableTimeout||
z.unavailableTimeout,l=a.wsPath||z.wsPath,n=a.wsPort||z.wsPort,p=a.wssPort||z.wssPort;var q="enableStats"in a?a.enableStats:"disableStats"in a?!a.disableStats:!1;var r=a.httpHost?a.httpHost:a.cluster?`sockjs-${a.cluster}.pusher.com`:z.httpHost;var u="https:"===t.getProtocol()?!0:!1===a.forceTLS?!1:!0;var v=a.wsHost?a.wsHost:`ws-${a.cluster}.pusher.com`;var w=Object.assign(Object.assign({},z.userAuthentication),a.userAuthentication);w="customHandler"in w&&null!=w.customHandler?w.customHandler:Qa(w);
{let e;"channelAuthorization"in a?e=Object.assign(Object.assign({},z.channelAuthorization),a.channelAuthorization):(e={transport:a.authTransport||z.authTransport,endpoint:a.authEndpoint||z.authEndpoint},"auth"in a&&("params"in a.auth&&(e.params=a.auth.params),"headers"in a.auth&&(e.headers=a.auth.headers)),"authorizer"in a&&(e.customHandler=Ra(b,e,a.authorizer)));b=e}b="customHandler"in b&&null!=b.customHandler?b.customHandler:Sa(b);e={activityTimeout:e,cluster:c,httpPath:m,httpPort:d,httpsPort:f,
pongTimeout:g,statsHost:h,unavailableTimeout:k,wsPath:l,wsPort:n,wssPort:p,enableStats:q,httpHost:r,useTLS:u,wsHost:v,userAuthenticator:w,channelAuthorizer:b};"disabledTransports"in a&&(e.disabledTransports=a.disabledTransports);"enabledTransports"in a&&(e.enabledTransports=a.enabledTransports);"ignoreNullOrigin"in a&&(e.ignoreNullOrigin=a.ignoreNullOrigin);"timelineParams"in a&&(e.timelineParams=a.timelineParams);"nacl"in a&&(e.nacl=a.nacl);return e}n.r(b);class wa{constructor(a,b){this.lastId=0;
this.prefix=a;this.name=b}create(a){this.lastId++;var e=this.lastId,b=this.prefix+e,c=this.name+"["+e+"]",d=!1,f=function(){d||(a.apply(null,arguments),d=!0)};this[e]=f;return{number:e,id:b,name:c,callback:f}}remove(a){delete this[a.number]}}var ha=new wa("_pusher_script_","Pusher.ScriptReceivers"),z={VERSION:"8.3.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",
activityTimeout:12E4,pongTimeout:3E4,unavailableTimeout:1E4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""};class Ta{constructor(a){this.options=a;this.receivers=a.receivers||ha;this.loading={}}load(a,b,c){var e=this;if(e.loading[a]&&0<e.loading[a].length)e.loading[a].push(c);else{e.loading[a]=[c];var m=t.createScriptRequest(e.getPath(a,
b)),d=e.receivers.create(function(b){e.receivers.remove(d);if(e.loading[a]){var c=e.loading[a];delete e.loading[a];for(var x=function(a){a||m.cleanup()},f=0;f<c.length;f++)c[f](b,x)}});m.send(d)}}getRoot(a){var e=t.getDocument().location.protocol;return(a&&a.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version}getPath(a,b){return this.getRoot(b)+"/"+a+this.options.suffix+".js"}}var za=new wa("_pusher_dependencies","Pusher.DependenciesReceivers"),
ja=new Ta({cdn_http:z.cdn_http,cdn_https:z.cdn_https,version:z.VERSION,suffix:z.dependency_suffix,receivers:za}),Ua={authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}},
Y={buildLogSuffix:function(a){a=Ua[a];if(!a)return"";let e;a.fullUrl?e=a.fullUrl:a.path&&(e="https://pusher.com"+a.path);return e?`${"See:"} ${e}`:""}},Q;(function(a){a.UserAuthentication="user-authentication";a.ChannelAuthorization="channel-authorization"})(Q||(Q={}));class Va extends Error{constructor(a){super(a);Object.setPrototypeOf(this,new.target.prototype)}}class Na extends Error{constructor(a){super(a);Object.setPrototypeOf(this,new.target.prototype)}}class Wa extends Error{constructor(a){super(a);
Object.setPrototypeOf(this,new.target.prototype)}}class Xa extends Error{constructor(a){super(a);Object.setPrototypeOf(this,new.target.prototype)}}class Ya extends Error{constructor(a){super(a);Object.setPrototypeOf(this,new.target.prototype)}}class ya extends Error{constructor(a){super(a);Object.setPrototypeOf(this,new.target.prototype)}}class Za extends Error{constructor(a){super(a);Object.setPrototypeOf(this,new.target.prototype)}}class Aa extends Error{constructor(a){super(a);Object.setPrototypeOf(this,
new.target.prototype)}}class ka extends Error{constructor(a,b){super(b);this.status=a;Object.setPrototypeOf(this,new.target.prototype)}}for(var $a=function(a,b,c,d,f){const e=t.createXHR();e.open("POST",c.endpoint,!0);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var m in c.headers)e.setRequestHeader(m,c.headers[m]);if(null!=c.headersProvider)for(m in a=c.headersProvider(),a)e.setRequestHeader(m,a[m]);e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status){let b=
!1;try{var a=JSON.parse(e.responseText);b=!0}catch(Ub){f(new ka(200,`JSON returned from ${d.toString()} endpoint was invalid, yet status code was 200. Data was: ${e.responseText}`),null)}b&&f(null,a)}else{a="";switch(d){case Q.UserAuthentication:a=Y.buildLogSuffix("authenticationEndpoint");break;case Q.ChannelAuthorization:a=`Clients must be authorized to join private or presence channels. ${Y.buildLogSuffix("authorizationEndpoint")}`}f(new ka(e.status,`Unable to retrieve auth string from ${d.toString()} endpoint - `+
`received status: ${e.status} from ${c.endpoint}. ${a}`),null)}};e.send(b);return e},Z=String.fromCharCode,la=0;64>la;la++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(la);var Ma=function(a){var e=a.charCodeAt(0);return 128>e?a:2048>e?Z(192|e>>>6)+Z(128|e&63):Z(224|e>>>12&15)+Z(128|e>>>6&63)+Z(128|e&63)},ab=function(a){var e=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0);return["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>
18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63),2<=e?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),1<=e?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a&63)].join("")},La=window.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,ab)};class bb{constructor(a,b,c,d){this.clear=b;this.timer=a(()=>{this.timer&&(this.timer=d(this.timer))},c)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&
(this.clear(this.timer),this.timer=null)}}var Ba=bb;class M extends Ba{constructor(e,b){super(setTimeout,a,e,function(a){b();return null})}}class cb extends Ba{constructor(a,b){super(setInterval,c,a,function(a){b();return a})}}var D={now(){return Date.now?Date.now():(new Date).valueOf()},defer(a){return new M(0,a)},method(a,...b){var e=Array.prototype.slice.call(arguments,1);return function(b){return b[a].apply(b,e.concat(arguments))}}};class db{constructor(){this.globalLog=a=>{}}debug(...a){this.log(this.globalLog,
a)}warn(...a){this.log(this.globalLogWarn,a)}error(...a){this.log(this.globalLogError,a)}globalLogWarn(a){window.console&&window.console.warn||this.globalLog(a)}globalLogError(a){window.console&&window.console.error||this.globalLogWarn(a)}log(a,...b){b=g.apply(this,arguments);ma.log?ma.log(b):ma.logToConsole&&a.bind(this)(b)}}var y=new db,eb=function(a,b,c,d,f){void 0===c.headers&&null==c.headersProvider||y.warn(`To send headers with the ${d.toString()} request, you must use AJAX, rather than JSONP.`);
var e=a.nextAuthCallbackID.toString();a.nextAuthCallbackID++;var m=a.getDocument();d=m.createElement("script");a.auth_callbacks[e]=function(a){f(null,a)};d.src=c.endpoint+"?callback\x3d"+encodeURIComponent("Pusher.auth_callbacks['"+e+"']")+"\x26"+b;a=m.getElementsByTagName("head")[0]||m.documentElement;a.insertBefore(d,a.firstChild)};class fb{constructor(a){this.src=a}send(a){var e=this,b="Error loading "+e.src;e.script=document.createElement("script");e.script.id=a.id;e.script.src=e.src;e.script.type=
"text/javascript";e.script.charset="UTF-8";e.script.addEventListener?(e.script.onerror=function(){a.callback(b)},e.script.onload=function(){a.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||a.callback(null)};void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=a.id+"_error",e.errorScript.text=a.name+"('"+b+"');",e.script.async=e.errorScript.async=
!1):e.script.async=!0;var c=document.getElementsByTagName("head")[0];c.insertBefore(e.script,c.firstChild);e.errorScript&&c.insertBefore(e.errorScript,e.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null);this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script);this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript);this.errorScript=this.script=null}}
class gb{constructor(a,b){this.url=a;this.data=b}send(a){if(!this.request){var e=H(this.data);this.request=t.createScriptRequest(this.url+"/"+a.number+"?"+e);this.request.send(a)}}cleanup(){this.request&&this.request.cleanup()}}class hb{constructor(){this._callbacks={}}get(a){return this._callbacks["_"+a]}add(a,b,c){a="_"+a;this._callbacks[a]=this._callbacks[a]||[];this._callbacks[a].push({fn:b,context:c})}remove(a,b,c){a||b||c?(a=a?["_"+a]:p(this._callbacks),b||c?this.removeCallback(a,b,c):this.removeAllCallbacks(a)):
this._callbacks={}}removeCallback(a,b,c){q(a,function(a){this._callbacks[a]=A(this._callbacks[a]||[],function(a){return b&&b!==a.fn||c&&c!==a.context});0===this._callbacks[a].length&&delete this._callbacks[a]},this)}removeAllCallbacks(a){q(a,function(a){delete this._callbacks[a]},this)}}class K{constructor(a){this.callbacks=new hb;this.global_callbacks=[];this.failThrough=a}bind(a,b,c){this.callbacks.add(a,b,c);return this}bind_global(a){this.global_callbacks.push(a);return this}unbind(a,b,c){this.callbacks.remove(a,
b,c);return this}unbind_global(a){if(!a)return this.global_callbacks=[],this;this.global_callbacks=A(this.global_callbacks||[],b=>b!==a);return this}unbind_all(){this.unbind();this.unbind_global();return this}emit(a,b,c){for(var e=0;e<this.global_callbacks.length;e++)this.global_callbacks[e](a,b);var d=this.callbacks.get(a),m=[];c?m.push(b,c):b&&m.push(b);if(d&&0<d.length)for(e=0;e<d.length;e++)d[e].fn.apply(d[e].context||window,m);else this.failThrough&&this.failThrough(a,b);return this}}class ib extends K{constructor(a,
b,c,d,f){super();this.initialize=t.transportConnectionInitializer;this.hooks=a;this.name=b;this.priority=c;this.key=d;this.options=f;this.state="new";this.timeline=f.timeline;this.activityTimeout=f.activityTimeout;this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||"initialized"!==this.state)return!1;var a=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=
this.hooks.getSocket(a,this.options)}catch(m){return D.defer(()=>{this.onError(m);this.changeState("closed")}),!1}this.bindListeners();y.debug("Connecting",{transport:this.name,url:a});this.changeState("connecting");return!0}close(){return this.socket?(this.socket.close(),!0):!1}send(a){return"open"===this.state?(D.defer(()=>{this.socket&&this.socket.send(a)}),!0):!1}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,
this.hooks.urls.getPath(this.key,this.options));this.changeState("open");this.socket.onopen=void 0}onError(a){this.emit("error",{type:"WebSocketError",error:a});this.timeline.error(this.buildTimelineMessage({error:a.toString()}))}onClose(a){a?this.changeState("closed",{code:a.code,reason:a.reason,wasClean:a.wasClean}):this.changeState("closed");this.unbindListeners();this.socket=void 0}onMessage(a){this.emit("message",a)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()};
this.socket.onerror=a=>{this.onError(a)};this.socket.onclose=a=>{this.onClose(a)};this.socket.onmessage=a=>{this.onMessage(a)};this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(a,b){this.state=a;this.timeline.info(this.buildTimelineMessage({state:a,params:b}));this.emit(a,b)}buildTimelineMessage(a){return h({cid:this.id},
a)}}class R{constructor(a){this.hooks=a}isSupported(a){return this.hooks.isSupported(a)}createConnection(a,b,c,d){return new ib(this.hooks,a,b,c,d)}}var jb=new R({urls:{getInitial:function(a,b){a=(b.httpPath||"")+U(a,"flash\x3dfalse");return F("ws",b,a)}},handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!t.getWebSocketAPI()},isSupported:function(){return!!t.getWebSocketAPI()},getSocket:function(a){return t.createWebSocket(a)}}),Ca={urls:{getInitial:function(a,b){a=(b.httpPath||
"/pusher")+U(a);return F("http",b,a)}},handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Da=h({getSocket:function(a){return t.HTTPFactory.createStreamingSocket(a)}},Ca),Ea=h({getSocket:function(a){return t.HTTPFactory.createPollingSocket(a)}},Ca),Fa={isSupported:function(){return t.isXHRSupported()}},kb=new R(h({},Da,Fa)),lb=new R(h({},Ea,Fa)),da={ws:jb,xhr_streaming:kb,xhr_polling:lb},mb=new R({file:"sockjs",urls:{getInitial:function(a,b){return F("http",b,b.httpPath||
"/pusher")},getPath:function(a,b){return U(a)}},handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(a,b){return new window.SockJS(a,null,{js_path:ja.getPath("sockjs",{useTLS:b.useTLS}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(a,b){a.send(JSON.stringify({path:b}))}}),Ga={isSupported:function(a){return t.isXDRSupported(a.useTLS)}},nb=new R(h({},Da,Ga)),ob=new R(h({},Ea,Ga));da.xdr_streaming=
nb;da.xdr_polling=ob;da.sockjs=mb;class pb extends K{constructor(){super();var a=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){a.emit("online")},!1),window.addEventListener("offline",function(){a.emit("offline")},!1))}isOnline(){return void 0===window.navigator.onLine?!0:window.navigator.onLine}}var qb=new pb;class rb{constructor(a,b,c){this.manager=a;this.transport=b;this.minPingDelay=c.minPingDelay;this.maxPingDelay=c.maxPingDelay;this.pingDelay=void 0}createConnection(a,
b,c,d){d=h({},d,{activityTimeout:this.pingDelay});var e=this.transport.createConnection(a,b,c,d),m=null,f=function(){e.unbind("open",f);e.bind("closed",x);m=D.now()},x=a=>{e.unbind("closed",x);1002===a.code||1003===a.code?this.manager.reportDeath():!a.wasClean&&m&&(a=D.now()-m,a<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(a/2,this.minPingDelay)))};e.bind("open",f);return e}isSupported(a){return this.manager.isAlive()&&this.transport.isSupported(a)}}const Ha={decodeMessage:function(a){try{var b=
JSON.parse(a.data),c=b.data;if("string"===typeof c)try{c=JSON.parse(b.data)}catch(ca){}var e={event:b.event,channel:b.channel,data:c};b.user_id&&(e.user_id=b.user_id);return e}catch(ca){throw{type:"MessageParseError",error:ca,data:a.data};}},encodeMessage:function(a){return JSON.stringify(a)},processHandshake:function(a){a=Ha.decodeMessage(a);if("pusher:connection_established"===a.event){if(!a.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:a.data.socket_id,
activityTimeout:1E3*a.data.activity_timeout}}if("pusher:error"===a.event)return{action:this.getCloseAction(a.data),error:this.getCloseError(a.data)};throw"Invalid handshake";},getCloseAction:function(a){return 4E3>a.code?1002<=a.code&&1004>=a.code?"backoff":null:4E3===a.code?"tls_only":4100>a.code?"refused":4200>a.code?"backoff":4300>a.code?"retry":"refused"},getCloseError:function(a){return 1E3!==a.code&&1001!==a.code?{type:"PusherError",data:{code:a.code,message:a.reason||a.message}}:null}};var N=
Ha;class sb extends K{constructor(a,b){super();this.id=a;this.transport=b;this.activityTimeout=b.activityTimeout;this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(a){return this.transport.send(a)}send_event(a,b,c){a={event:a,data:b};c&&(a.channel=c);y.debug("Event sent",a);return this.send(N.encodeMessage(a))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var a=
{message:a=>{try{var b=N.decodeMessage(a)}catch(ca){this.emit("error",{type:"MessageParseError",error:ca,data:a.data})}if(void 0!==b){y.debug("Event recd",b);switch(b.event){case "pusher:error":this.emit("error",{type:"PusherError",data:b.data});break;case "pusher:ping":this.emit("ping");break;case "pusher:pong":this.emit("pong")}this.emit("message",b)}},activity:()=>{this.emit("activity")},error:a=>{this.emit("error",a)},closed:a=>{b();a&&a.code&&this.handleCloseEvent(a);this.transport=null;this.emit("closed")}},
b=()=>{k(a,(a,b)=>{this.transport.unbind(b,a)})};k(a,(a,b)=>{this.transport.bind(b,a)})}handleCloseEvent(a){var b=N.getCloseAction(a);(a=N.getCloseError(a))&&this.emit("error",a);b&&this.emit(b,{action:b,error:a})}}class tb{constructor(a,b){this.transport=a;this.callback=b;this.bindListeners()}close(){this.unbindListeners();this.transport.close()}bindListeners(){this.onMessage=a=>{this.unbindListeners();try{var b=N.processHandshake(a)}catch(x){this.finish("error",{error:x});this.transport.close();
return}"connected"===b.action?this.finish("connected",{connection:new sb(b.id,this.transport),activityTimeout:b.activityTimeout}):(this.finish(b.action,{error:b.error}),this.transport.close())};this.onClosed=a=>{this.unbindListeners();var b=N.getCloseAction(a)||"backoff";a=N.getCloseError(a);this.finish(b,{error:a})};this.transport.bind("message",this.onMessage);this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage);this.transport.unbind("closed",
this.onClosed)}finish(a,b){this.callback(h({transport:this.transport,action:a},b))}}class ub{constructor(a,b){this.timeline=a;this.options=b||{}}send(a,b){this.timeline.isEmpty()||this.timeline.send(t.TimelineTransport.getAgent(this,a),b)}}class na extends K{constructor(a,b){super(function(b,c){y.debug("No callbacks on "+a+" for "+b)});this.name=a;this.pusher=b;this.subscriptionCancelled=this.subscriptionPending=this.subscribed=!1}authorize(a,b){return b(null,{auth:""})}trigger(a,b){if(0!==a.indexOf("client-"))throw new Va("Event '"+
a+"' does not start with 'client-'");if(!this.subscribed){var c=Y.buildLogSuffix("triggeringClientEvents");y.warn(`Client event triggered before channel 'subscription_succeeded' event . ${c}`)}return this.pusher.send_event(a,b,this.name)}disconnect(){this.subscriptionPending=this.subscribed=!1}handleEvent(a){var b=a.event,c=a.data;"pusher_internal:subscription_succeeded"===b?this.handleSubscriptionSucceededEvent(a):"pusher_internal:subscription_count"===b?this.handleSubscriptionCountEvent(a):0!==
b.indexOf("pusher_internal:")&&this.emit(b,c,{})}handleSubscriptionSucceededEvent(a){this.subscriptionPending=!1;this.subscribed=!0;this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",a.data)}handleSubscriptionCountEvent(a){a.data.subscription_count&&(this.subscriptionCount=a.data.subscription_count);this.emit("pusher:subscription_count",a.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,
(a,b)=>{a?(this.subscriptionPending=!1,y.error(a.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:a.message},a instanceof ka?{status:a.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:b.auth,channel_data:b.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1;this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}
class oa extends na{authorize(a,b){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:a},b)}}class vb{constructor(){this.reset()}get(a){return Object.prototype.hasOwnProperty.call(this.members,a)?{id:a,info:this.members[a]}:null}each(a){k(this.members,(b,c)=>{a(this.get(c))})}setMyID(a){this.myID=a}onSubscription(a){this.members=a.presence.hash;this.count=a.presence.count;this.me=this.get(this.myID)}addMember(a){null===this.get(a.user_id)&&this.count++;this.members[a.user_id]=
a.user_info;return this.get(a.user_id)}removeMember(a){var b=this.get(a.user_id);b&&(delete this.members[a.user_id],this.count--);return b}reset(){this.members={};this.count=0;this.me=this.myID=null}}var wb=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,m){function f(a){try{g(d.next(a))}catch(ia){m(ia)}}function x(a){try{g(d["throw"](a))}catch(ia){m(ia)}}function g(a){a.done?c(a.value):e(a.value).then(f,x)}g((d=d.apply(a,b||
[])).next())})};class xb extends oa{constructor(a,b){super(a,b);this.members=new vb}authorize(a,b){super.authorize(a,(a,c)=>wb(this,void 0,void 0,function*(){if(!a)if(null!=c.channel_data){var e=JSON.parse(c.channel_data);this.members.setMyID(e.user_id)}else if(yield this.pusher.user.signinDonePromise,null!=this.pusher.user.user_data)this.members.setMyID(this.pusher.user.user_data.id);else{e=Y.buildLogSuffix("authorizationEndpoint");y.error(`Invalid auth response for channel '${this.name}', `+`expected 'channel_data' field. ${e}, `+
"or the user should be signed in.");b("Invalid auth response");return}b(a,c)}))}handleEvent(a){var b=a.event;if(0===b.indexOf("pusher_internal:"))this.handleInternalEvent(a);else{var c=a.data,e={};a.user_id&&(e.user_id=a.user_id);this.emit(b,c,e)}}handleInternalEvent(a){var b=a.data;switch(a.event){case "pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(a);break;case "pusher_internal:subscription_count":this.handleSubscriptionCountEvent(a);break;case "pusher_internal:member_added":a=
this.members.addMember(b);this.emit("pusher:member_added",a);break;case "pusher_internal:member_removed":(a=this.members.removeMember(b))&&this.emit("pusher:member_removed",a)}}handleSubscriptionSucceededEvent(a){this.subscriptionPending=!1;this.subscribed=!0;this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(a.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset();super.disconnect()}}var yb=n(1),pa=n(0);class zb extends oa{constructor(a,
b,c){super(a,b);this.key=null;this.nacl=c}authorize(a,b){super.authorize(a,(a,c)=>{a?b(a,c):(a=c.shared_secret)?(this.key=Object(pa.decode)(a),delete c.shared_secret,b(null,c)):b(Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null)})}trigger(a,b){throw new ya("Client events are not currently supported for encrypted channels");}handleEvent(a){var b=a.event,c=a.data;0===b.indexOf("pusher_internal:")||0===b.indexOf("pusher:")?super.handleEvent(a):this.handleEncryptedEvent(b,
c)}handleEncryptedEvent(a,b){if(this.key)if(b.ciphertext&&b.nonce){var c=Object(pa.decode)(b.ciphertext);if(c.length<this.nacl.secretbox.overheadLength)y.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${c.length}`);else{var e=Object(pa.decode)(b.nonce);if(e.length<this.nacl.secretbox.nonceLength)y.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${e.length}`);else{var d=this.nacl.secretbox.open(c,e,this.key);
null===d?(y.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(b,m)=>{b?y.error(`Failed to make a request to the authEndpoint: ${m}. Unable to fetch new key, so dropping encrypted event`):(d=this.nacl.secretbox.open(c,e,this.key),null===d?y.error("Failed to decrypt event with new key. Dropping encrypted event"):this.emit(a,this.getDataToEmit(d)))})):this.emit(a,this.getDataToEmit(d))}}}else y.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+
b);else y.debug("Received encrypted event before key has been retrieved from the authEndpoint")}getDataToEmit(a){a=Object(yb.decode)(a);try{return JSON.parse(a)}catch(m){return a}}}class Ab extends K{constructor(a,b){super();this.state="initialized";this.connection=null;this.key=a;this.options=b;this.timeline=this.options.timeline;this.usingTLS=this.options.useTLS;this.errorCallbacks=this.buildErrorCallbacks();this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks);this.handshakeCallbacks=
this.buildHandshakeCallbacks(this.errorCallbacks);a=t.getNetwork();a.bind("online",()=>{this.timeline.info({netinfo:"online"});"connecting"!==this.state&&"unavailable"!==this.state||this.retryIn(0)});a.bind("offline",()=>{this.timeline.info({netinfo:"offline"});this.connection&&this.sendActivityCheck()});this.updateStrategy()}connect(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))}send(a){return this.connection?
this.connection.send(a):!1}send_event(a,b,c){return this.connection?this.connection.send_event(a,b,c):!1}disconnect(){this.disconnectInternally();this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var a=(b,c)=>{b?this.runner=this.strategy.connect(0,a):"error"===c.action?(this.emit("error",{type:"HandshakeError",error:c.error}),this.timeline.error({handshakeError:c.error})):(this.abortConnecting(),this.handshakeCallbacks[c.action](c))};this.runner=this.strategy.connect(0,
a)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting();this.clearRetryTimer();this.clearUnavailableTimer();this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(a){this.timeline.info({action:"retry",delay:a});0<a&&this.emit("connecting_in",Math.round(a/1E3));this.retryTimer=new M(a||0,()=>{this.disconnectInternally();
this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new M(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck();this.connection.ping();this.activityTimer=new M(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout});this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck();
this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new M(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(a){return h({},a,{message:a=>{this.resetActivityCheck();this.emit("message",a)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:a=>{this.emit("error",a)},closed:()=>{this.abandonConnection();this.shouldRetry()&&this.retryIn(1E3)}})}buildHandshakeCallbacks(a){return h({},
a,{connected:a=>{this.activityTimeout=Math.min(this.options.activityTimeout,a.activityTimeout,a.connection.activityTimeout||Infinity);this.clearUnavailableTimer();this.setConnection(a.connection);this.socket_id=this.connection.id;this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let a=a=>b=>{b.error&&this.emit("error",{type:"WebSocketError",error:b.error});a(b)};return{tls_only:a(()=>{this.usingTLS=!0;this.updateStrategy();this.retryIn(0)}),refused:a(()=>{this.disconnect()}),
backoff:a(()=>{this.retryIn(1E3)}),retry:a(()=>{this.retryIn(0)})}}setConnection(a){this.connection=a;for(var b in this.connectionCallbacks)this.connection.bind(b,this.connectionCallbacks[b]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var a in this.connectionCallbacks)this.connection.unbind(a,this.connectionCallbacks[a]);a=this.connection;this.connection=null;return a}}updateState(a,b){var c=this.state;this.state=a;if(c!==a){var e=a;"connected"===
e&&(e+=" with new socket ID "+b.socket_id);y.debug("State changed",c+" -\x3e "+e);this.timeline.info({state:a,params:b});this.emit("state_change",{previous:c,current:a});this.emit(a,b)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class Bb{constructor(){this.channels={}}add(a,b){this.channels[a]||(this.channels[a]=V(a,b));return this.channels[a]}all(){return l(this.channels)}find(a){return this.channels[a]}remove(a){var b=this.channels[a];delete this.channels[a];return b}disconnect(){k(this.channels,
function(a){a.disconnect()})}}var J={createChannels(){return new Bb},createConnectionManager(a,b){return new Ab(a,b)},createChannel(a,b){return new na(a,b)},createPrivateChannel(a,b){return new oa(a,b)},createPresenceChannel(a,b){return new xb(a,b)},createEncryptedChannel(a,b,c){return new zb(a,b,c)},createTimelineSender(a,b){return new ub(a,b)},createHandshake(a,b){return new tb(a,b)},createAssistantToTheTransportManager(a,b,c){return new rb(a,b,c)}};class Ia{constructor(a){this.options=a||{};this.livesLeft=
this.options.lives||Infinity}getAssistant(a){return J.createAssistantToTheTransportManager(this,a,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return 0<this.livesLeft}reportDeath(){--this.livesLeft}}class O{constructor(a,b){this.strategies=a;this.loop=!!b.loop;this.failFast=!!b.failFast;this.timeout=b.timeout;this.timeoutLimit=b.timeoutLimit}isSupported(){return B(this.strategies,D.method("isSupported"))}connect(a,b){var c=this.strategies,e=0,d=this.timeout,
m=null,f=(g,x)=>{x?b(null,x):(e+=1,this.loop&&(e%=c.length),e<c.length?(d&&(d*=2,this.timeoutLimit&&(d=Math.min(d,this.timeoutLimit))),m=this.tryStrategy(c[e],a,{timeout:d,failFast:this.failFast},f)):b(!0))};m=this.tryStrategy(c[e],a,{timeout:d,failFast:this.failFast},f);return{abort:function(){m.abort()},forceMinPriority:function(b){a=b;m&&m.forceMinPriority(b)}}}tryStrategy(a,b,c,d){var e=null,m=null;0<c.timeout&&(e=new M(c.timeout,function(){m.abort();d(!0)}));m=a.connect(b,function(a,b){a&&e&&
e.isRunning()&&!c.failFast||(e&&e.ensureAborted(),d(a,b))});return{abort:function(){e&&e.ensureAborted();m.abort()},forceMinPriority:function(a){m.forceMinPriority(a)}}}}class qa{constructor(a){this.strategies=a}isSupported(){return B(this.strategies,D.method("isSupported"))}connect(a,b){return W(this.strategies,a,function(a,c){return function(e,d){(c[a].error=e)?X(c)&&b(!0):(q(c,function(a){a.forceMinPriority(d.transport.priority)}),b(null,d))}})}}class Cb{constructor(a,b,c){this.strategy=a;this.transports=
b;this.ttl=c.ttl||18E5;this.usingTLS=c.useTLS;this.timeline=c.timeline}isSupported(){return this.strategy.isSupported()}connect(a,b){var c=this.usingTLS,e=Ja(c),d=e&&e.cacheSkipCount?e.cacheSkipCount:0,m=[this.strategy];if(e&&e.timestamp+this.ttl>=D.now()){var f=this.transports[e.transport];f&&(["ws","wss"].includes(e.transport)||3<d?(this.timeline.info({cached:!0,transport:e.transport,latency:e.latency}),m.push(new O([f],{timeout:2*e.latency+1E3,failFast:!0}))):d++)}var g=D.now(),h=m.pop().connect(a,
function Pa(e,f){if(e)ta(c),0<m.length?(g=D.now(),h=m.pop().connect(a,Pa)):b(e);else{e=f.transport.name;var x=D.now()-g,k=d,l=t.getLocalStorage();if(l)try{l[u(c)]=L({timestamp:D.now(),transport:e,latency:x,cacheSkipCount:k})}catch(Vb){}b(null,f)}});return{abort:function(){h.abort()},forceMinPriority:function(b){a=b;h&&h.forceMinPriority(b)}}}}class ea{constructor(a,{delay:b}){this.strategy=a;this.options={delay:b}}isSupported(){return this.strategy.isSupported()}connect(a,b){var c=this.strategy,e,
d=new M(this.options.delay,function(){e=c.connect(a,b)});return{abort:function(){d.ensureAborted();e&&e.abort()},forceMinPriority:function(b){a=b;e&&e.forceMinPriority(b)}}}}class aa{constructor(a,b,c){this.test=a;this.trueBranch=b;this.falseBranch=c}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(a,b){return(this.test()?this.trueBranch:this.falseBranch).connect(a,b)}}class Db{constructor(a){this.strategy=a}isSupported(){return this.strategy.isSupported()}connect(a,
b){var c=this.strategy.connect(a,function(a,e){e&&c.abort();b(a,e)});return c}}var Eb={getRequest:function(a){var b=new window.XDomainRequest;b.ontimeout=function(){a.emit("error",new Wa);a.close()};b.onerror=function(b){a.emit("error",b);a.close()};b.onprogress=function(){if(b.responseText&&0<b.responseText.length)a.onChunk(200,b.responseText)};b.onload=function(){if(b.responseText&&0<b.responseText.length)a.onChunk(200,b.responseText);a.emit("finished",200);a.close()};return b},abortRequest:function(a){a.ontimeout=
a.onerror=a.onprogress=a.onload=null;a.abort()}};class Fb extends K{constructor(a,b,c){super();this.hooks=a;this.method=b;this.url=c}start(a){this.position=0;this.xhr=this.hooks.getRequest(this);this.unloader=()=>{this.close()};t.addUnloadListener(this.unloader);this.xhr.open(this.method,this.url,!0);this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json");this.xhr.send(a)}close(){this.unloader&&(t.removeUnloadListener(this.unloader),this.unloader=null);this.xhr&&(this.hooks.abortRequest(this.xhr),
this.xhr=null)}onChunk(a,b){for(;;){var c=this.advanceBuffer(b);if(c)this.emit("chunk",{status:a,data:c});else break}this.isBufferTooLong(b)&&this.emit("buffer_too_long")}advanceBuffer(a){a=a.slice(this.position);var b=a.indexOf("\n");return-1!==b?(this.position+=b+1,a.slice(0,b)):null}isBufferTooLong(a){return this.position===a.length&&262144<a.length}}var ra;(function(a){a[a.CONNECTING=0]="CONNECTING";a[a.OPEN=1]="OPEN";a[a.CLOSED=3]="CLOSED"})(ra||(ra={}));var P=ra,Oa=1;class Gb{constructor(a,
b){this.hooks=a;a=t.randomInt(1E3)+"/";var c=[];for(var e=0;8>e;e++)c.push(t.randomInt(32).toString(32));c=c.join("");this.session=a+c;b=/([^\?]*)\/*(\??.*)/.exec(b);this.location={base:b[1],queryString:b[2]};this.readyState=P.CONNECTING;this.openStream()}send(a){return this.sendRaw(JSON.stringify([a]))}ping(){this.hooks.sendHeartbeat(this)}close(a,b){this.onClose(a,b,!0)}sendRaw(a){if(this.readyState===P.OPEN)try{return t.createSocketRequest("POST",ua(this.location.base+"/"+this.session+"/xhr_send")).start(a),
!0}catch(m){return!1}else return!1}reconnect(){this.closeStream();this.openStream()}onClose(a,b,c){this.closeStream();this.readyState=P.CLOSED;if(this.onclose)this.onclose({code:a,reason:b,wasClean:c})}onChunk(a){if(200===a.status){if(this.readyState===P.OPEN)this.onActivity();switch(a.data.slice(0,1)){case "o":a=JSON.parse(a.data.slice(1)||"{}");this.onOpen(a);break;case "a":a=JSON.parse(a.data.slice(1)||"[]");for(var b=0;b<a.length;b++)this.onEvent(a[b]);break;case "m":a=JSON.parse(a.data.slice(1)||
"null");this.onEvent(a);break;case "h":this.hooks.onHeartbeat(this);break;case "c":a=JSON.parse(a.data.slice(1)||"[]"),this.onClose(a[0],a[1],!0)}}}onOpen(a){if(this.readyState===P.CONNECTING){if(a&&a.hostname){var b=this.location;a=a.hostname;var c=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(this.location.base);b.base=c[1]+a+c[3]}this.readyState=P.OPEN;if(this.onopen)this.onopen()}else this.onClose(1006,"Server lost session",!0)}onEvent(a){if(this.readyState===P.OPEN&&this.onmessage)this.onmessage({data:a})}onActivity(){if(this.onactivity)this.onactivity()}onError(a){if(this.onerror)this.onerror(a)}openStream(){this.stream=
t.createSocketRequest("POST",ua(this.hooks.getReceiveURL(this.location,this.session)));this.stream.bind("chunk",a=>{this.onChunk(a)});this.stream.bind("finished",a=>{this.hooks.onFinished(this,a)});this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(e){D.defer(()=>{this.onError(e);this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}var Hb=Gb,Ib={getReceiveURL:function(a,
b){return a.base+"/"+b+"/xhr_streaming"+a.queryString},onHeartbeat:function(a){a.sendRaw("[]")},sendHeartbeat:function(a){a.sendRaw("[]")},onFinished:function(a,b){a.onClose(1006,"Connection interrupted ("+b+")",!1)}},Jb={getReceiveURL:function(a,b){return a.base+"/"+b+"/xhr"+a.queryString},onHeartbeat:function(){},sendHeartbeat:function(a){a.sendRaw("[]")},onFinished:function(a,b){if(200===b)a.reconnect();else a.onClose(1006,"Connection interrupted ("+b+")",!1)}},Kb={getRequest:function(a){var b=
new (t.getXHRAPI());b.onreadystatechange=b.onprogress=function(){switch(b.readyState){case 3:if(b.responseText&&0<b.responseText.length)a.onChunk(b.status,b.responseText);break;case 4:if(b.responseText&&0<b.responseText.length)a.onChunk(b.status,b.responseText);a.emit("finished",b.status);a.close()}};return b},abortRequest:function(a){a.onreadystatechange=null;a.abort()}},t={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:ha,DependenciesReceivers:za,getDefaultStrategy:function(a,b,c){function d(b,
d,f,m,g){d=c(a,b,d,f,m,g);return e[b]=d}var e={},f=Object.assign({},b,{hostNonTLS:a.wsHost+":"+a.wsPort,hostTLS:a.wsHost+":"+a.wssPort,httpPath:a.wsPath}),m=Object.assign({},f,{useTLS:!0}),g=Object.assign({},b,{hostNonTLS:a.httpHost+":"+a.httpPort,hostTLS:a.httpHost+":"+a.httpsPort,httpPath:a.httpPath}),h={loop:!0,timeout:15E3,timeoutLimit:6E4},k=new Ia({minPingDelay:1E4,maxPingDelay:a.activityTimeout}),l=new Ia({lives:2,minPingDelay:1E4,maxPingDelay:a.activityTimeout});f=d("ws","ws",3,f,k);m=d("wss",
"ws",3,m,k);var x=d("sockjs","sockjs",1,g);k=d("xhr_streaming","xhr_streaming",1,g,l);var n=d("xdr_streaming","xdr_streaming",1,g,l);l=d("xhr_polling","xhr_polling",1,g);var p=d("xdr_polling","xdr_polling",1,g);g=new O([f],h);m=new O([m],h);x=new O([x],h);k=new O([new aa(S(k),k,n)],h);l=new O([new aa(S(l),l,p)],h);h=new O([new aa(S(k),new qa([k,new ea(l,{delay:4E3})]),l)],h);h=new aa(S(h),h,x);g=b.useTLS?new qa([g,new ea(h,{delay:2E3})]):new qa([g,new ea(m,{delay:2E3}),new ea(h,{delay:5E3})]);return new Cb(new Db(new aa(S(f),
g,h)),e,{ttl:18E5,timeline:b.timeline,useTLS:b.useTLS})},Transports:da,transportConnectionInitializer:function(){var a=this;a.timeline.info(a.buildTimelineMessage({transport:a.name+(a.options.useTLS?"s":"")}));if(a.hooks.isInitialized())a.changeState("initialized");else if(a.hooks.file)a.changeState("initializing"),ja.load(a.hooks.file,{useTLS:a.options.useTLS},function(b,c){if(a.hooks.isInitialized())a.changeState("initialized"),c(!0);else{if(b)a.onError(b);a.onClose();c(!1)}});else a.onClose()},
HTTPFactory:{createStreamingSocket(a){return this.createSocket(Ib,a)},createPollingSocket(a){return this.createSocket(Jb,a)},createSocket(a,b){return new Hb(a,b)},createXHR(a,b){return this.createRequest(Kb,a,b)},createRequest(a,b,c){return new Fb(a,b,c)},createXDR:function(a,b){return this.createRequest(Eb,a,b)}},TimelineTransport:{name:"jsonp",getAgent:function(a,b){return function(c,d){var e=t.createJSONPRequest("http"+(b?"s":"")+"://"+(a.host||a.options.host)+a.options.path,c),f=t.ScriptReceivers.create(function(b,
c){ha.remove(f);e.cleanup();c&&c.host&&(a.host=c.host);d&&d(b,c)});e.send(f)}}},getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(a){window.Pusher=a;var b=()=>{this.onDocumentBody(a.ready)};window.JSON?b():ja.load("json2",{},b)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:$a,jsonp:eb}},onDocumentBody(a){document.body?a():setTimeout(()=>{this.onDocumentBody(a)},0)},
createJSONPRequest(a,b){return new gb(a,b)},createScriptRequest(a){return new fb(a)},getLocalStorage(){try{return window.localStorage}catch(e){}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){return new (this.getXHRAPI())},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return qb},createWebSocket(a){return new (this.getWebSocketAPI())(a)},createSocketRequest(a,b){if(this.isXHRSupported())return this.HTTPFactory.createXHR(a,
b);if(this.isXDRSupported(0===b.indexOf("https:")))return this.HTTPFactory.createXDR(a,b);throw"Cross-origin HTTP requests are not supported";},isXHRSupported(){var a=this.getXHRAPI();return!!a&&void 0!==(new a).withCredentials},isXDRSupported(a){a=a?"https:":"http:";var b=this.getProtocol();return!!window.XDomainRequest&&b===a},addUnloadListener(a){void 0!==window.addEventListener?window.addEventListener("unload",a,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",a)},removeUnloadListener(a){void 0!==
window.addEventListener?window.removeEventListener("unload",a,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",a)},randomInt(a){return Math.floor((window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)*a)}},sa;(function(a){a[a.ERROR=3]="ERROR";a[a.INFO=6]="INFO";a[a.DEBUG=7]="DEBUG"})(sa||(sa={}));var fa=sa;class Lb{constructor(a,b,c){this.key=a;this.session=b;this.events=[];this.options=c||{};this.uniqueID=this.sent=0}log(a,b){a<=this.options.level&&(this.events.push(h({},
b,{timestamp:D.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(a){this.log(fa.ERROR,a)}info(a){this.log(fa.INFO,a)}debug(a){this.log(fa.DEBUG,a)}isEmpty(){return 0===this.events.length}send(a,b){var c=h({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);this.events=[];a(c,(a,c)=>{a||this.sent++;b&&b(a,c)});return!0}generateUniqueID(){this.uniqueID++;
return this.uniqueID}}class Mb{constructor(a,b,c,d){this.name=a;this.priority=b;this.transport=c;this.options=d||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(a,b){if(!this.isSupported())return va(new Aa,b);if(this.priority<a)return va(new Xa,b);var c=!1,d=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),e=null,f=function(){d.unbind("initialized",f);d.connect()},m=function(){e=J.createHandshake(d,function(a){c=!0;k();
b(null,a)})},g=function(a){k();b(a)},h=function(){k();var a=L(d);b(new Ya(a))},k=function(){d.unbind("initialized",f);d.unbind("open",m);d.unbind("error",g);d.unbind("closed",h)};d.bind("initialized",f);d.bind("open",m);d.bind("error",g);d.bind("closed",h);d.initialize();return{abort:()=>{c||(k(),e?e.close():d.close())},forceMinPriority:a=>{c||this.priority<a&&(e?e.close():d.close())}}}}const {Transports:Nb}=t;var Pb=function(a,b,c,d,g,h){var e=Nb[c];if(!e)throw new Za(c);a.enabledTransports&&-1===
f(a.enabledTransports,b)||a.disabledTransports&&-1!==f(a.disabledTransports,b)?a=Ob:(g=Object.assign({ignoreNullOrigin:a.ignoreNullOrigin},g),a=new Mb(b,d,h?h.getAssistant(e):e,g));return a},Ob={isSupported:function(){return!1},connect:function(a,b){var c=D.defer(function(){b(new Aa)});return{abort:function(){c.ensureAborted()},forceMinPriority:function(){}}}},Qa=a=>{if("undefined"===typeof t.getAuthorizers()[a.transport])throw`'${a.transport}' is not a recognized auth transport`;return(b,c)=>{b=
"socket_id\x3d"+encodeURIComponent(b.socketId);for(d in a.params)b+="\x26"+encodeURIComponent(d)+"\x3d"+encodeURIComponent(a.params[d]);if(null!=a.paramsProvider){let c=a.paramsProvider();for(d in c)b+="\x26"+encodeURIComponent(d)+"\x3d"+encodeURIComponent(c[d])}var d=b;t.getAuthorizers()[a.transport](t,d,a,Q.UserAuthentication,c)}},Sa=a=>{if("undefined"===typeof t.getAuthorizers()[a.transport])throw`'${a.transport}' is not a recognized auth transport`;return(b,c)=>{var d="socket_id\x3d"+encodeURIComponent(b.socketId);
d+="\x26channel_name\x3d"+encodeURIComponent(b.channelName);for(var e in a.params)d+="\x26"+encodeURIComponent(e)+"\x3d"+encodeURIComponent(a.params[e]);if(null!=a.paramsProvider)for(e in b=a.paramsProvider(),b)d+="\x26"+encodeURIComponent(e)+"\x3d"+encodeURIComponent(b[e]);t.getAuthorizers()[a.transport](t,d,a,Q.ChannelAuthorization,c)}};const Ra=(a,b,c)=>{const d={authTransport:b.transport,authEndpoint:b.endpoint,auth:{params:b.params,headers:b.headers}};return(b,e)=>{const f=a.channel(b.channelName);
c(f,d).authorize(b.socketId,e)}};class Qb extends K{constructor(a){super(function(a,b){y.debug(`No callbacks on watchlist events for ${a}`)});this.pusher=a;this.bindWatchlistInternalEvent()}handleEvent(a){a.data.events.forEach(a=>{this.emit(a.name,a)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",a=>{"pusher_internal:watchlist_events"===a.event&&this.handleEvent(a)})}}var Rb=function(){let a,b;return{promise:new Promise((c,d)=>{a=c;b=d}),resolve:a,reject:b}};class Sb extends K{constructor(a){super(function(a,
b){y.debug("No callbacks on user for "+a)});this.signin_requested=!1;this._signinDoneResolve=this.signinDonePromise=this.serverToUserChannel=this.user_data=null;this._onAuthorize=(a,b)=>{a?(y.warn(`Error during signin: ${a}`),this._cleanup()):this.pusher.send_event("pusher:signin",{auth:b.auth,user_data:b.user_data})};this.pusher=a;this.pusher.connection.bind("state_change",({previous:a,current:b})=>{"connected"!==a&&"connected"===b&&this._signin();"connected"===a&&"connected"!==b&&(this._cleanup(),
this._newSigninPromiseIfNeeded())});this.watchlist=new Qb(a);this.pusher.connection.bind("message",a=>{"pusher:signin_success"===a.event&&this._onSigninSuccess(a.data);this.serverToUserChannel&&this.serverToUserChannel.name===a.channel&&this.serverToUserChannel.handleEvent(a)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},
this._onAuthorize))}_onSigninSuccess(a){try{this.user_data=JSON.parse(a.user_data)}catch(m){y.error(`Failed parsing user data after signin: ${a.user_data}`);this._cleanup();return}"string"!==typeof this.user_data.id||""===this.user_data.id?(y.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup()):(this._signinDoneResolve(),this._subscribeChannels())}_subscribeChannels(){this.serverToUserChannel=new na(`#server-to-user-${this.user_data.id}`,this.pusher);this.serverToUserChannel.bind_global((a,
b)=>{0!==a.indexOf("pusher_internal:")&&0!==a.indexOf("pusher:")&&this.emit(a,b)});(a=>{a.subscriptionPending&&a.subscriptionCancelled?a.reinstateSubscription():a.subscriptionPending||"connected"!==this.pusher.connection.state||a.subscribe()})(this.serverToUserChannel)}_cleanup(){this.user_data=null;this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null);this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(this.signin_requested&&
(!this.signinDonePromise||this.signinDonePromise.done)){var {promise:a,resolve:b}=Rb();a.done=!1;var c=()=>{a.done=!0};a.then(c).catch(c);this.signinDonePromise=a;this._signinDoneResolve=b}}}class E{static ready(){E.isReady=!0;for(var a=0,b=E.instances.length;a<b;a++)E.instances[a].connect()}static getClientFeatures(){return p(C({ws:t.Transports.ws},function(a){return a.isSupported({})}))}constructor(a,b){if(null===a||void 0===a)throw"You must pass your app key when you instantiate Pusher.";if(null==
b)throw"You must pass an options object";if(null==b.cluster)throw"Options object must provide a cluster";"disableStats"in b&&y.warn("The disableStats option is deprecated in favor of enableStats");this.key=a;this.config=Ka(b,this);this.channels=J.createChannels();this.global_emitter=new K;this.sessionID=t.randomInt(1E9);this.timeline=new Lb(this.key,this.sessionID,{cluster:this.config.cluster,features:E.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:fa.INFO,version:z.VERSION});
this.config.enableStats&&(this.timelineSender=J.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+t.TimelineTransport.name}));this.connection=J.createConnectionManager(this.key,{getStrategy:a=>t.getDefaultStrategy(this.config,a,Pb),timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS});this.connection.bind("connected",()=>{this.subscribeAll();
this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())});this.connection.bind("message",a=>{var b=0===a.event.indexOf("pusher_internal:");if(a.channel){var c=this.channel(a.channel);c&&c.handleEvent(a)}b||this.global_emitter.emit(a.event,a.data)});this.connection.bind("connecting",()=>{this.channels.disconnect()});this.connection.bind("disconnected",()=>{this.channels.disconnect()});this.connection.bind("error",a=>{y.warn(a)});E.instances.push(this);this.timeline.info({instances:E.instances.length});
this.user=new Sb(this);E.isReady&&this.connect()}channel(a){return this.channels.find(a)}allChannels(){return this.channels.all()}connect(){this.connection.connect();if(this.timelineSender&&!this.timelineSenderTimer){var a=this.connection.isUsingTLS(),b=this.timelineSender;this.timelineSenderTimer=new cb(6E4,function(){b.send(a)})}}disconnect(){this.connection.disconnect();this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(a,b,c){this.global_emitter.bind(a,
b,c);return this}unbind(a,b,c){this.global_emitter.unbind(a,b,c);return this}bind_global(a){this.global_emitter.bind_global(a);return this}unbind_global(a){this.global_emitter.unbind_global(a);return this}unbind_all(a){this.global_emitter.unbind_all();return this}subscribeAll(){for(var a in this.channels.channels)this.channels.channels.hasOwnProperty(a)&&this.subscribe(a)}subscribe(a){a=this.channels.add(a,this);a.subscriptionPending&&a.subscriptionCancelled?a.reinstateSubscription():a.subscriptionPending||
"connected"!==this.connection.state||a.subscribe();return a}unsubscribe(a){var b=this.channels.find(a);b&&b.subscriptionPending?b.cancelSubscription():(b=this.channels.remove(a))&&b.subscribed&&b.unsubscribe()}send_event(a,b,c){return this.connection.send_event(a,b,c)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}E.instances=[];E.isReady=!1;E.logToConsole=!1;E.Runtime=t;E.ScriptReceivers=t.ScriptReceivers;E.DependenciesReceivers=t.DependenciesReceivers;E.auth_callbacks=t.auth_callbacks;
var ma=b["default"]=E;t.setup(E)}])});